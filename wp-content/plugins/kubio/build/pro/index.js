(()=>{var e={5251:(e,o,t)=>{"use strict";var n=t(9196),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function u(e,o,t){var n,i={},u=null,c=null;for(n in void 0!==t&&(u=""+t),void 0!==o.key&&(u=""+o.key),void 0!==o.ref&&(c=o.ref),o)l.call(o,n)&&!s.hasOwnProperty(n)&&(i[n]=o[n]);if(e&&e.defaultProps)for(n in o=e.defaultProps)void 0===i[n]&&(i[n]=o[n]);return{$$typeof:r,type:e,key:u,ref:c,props:i,_owner:a.current}}o.Fragment=i,o.jsx=u,o.jsxs=u},5893:(e,o,t)=>{"use strict";e.exports=t(5251)},9196:e=>{"use strict";e.exports=window.React},3967:(e,o)=>{var t;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e="",o=0;o<arguments.length;o++){var t=arguments[o];t&&(e=l(e,i(t)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var o="";for(var t in e)n.call(e,t)&&e[t]&&(o=l(o,t));return o}function l(e,o){return o?e?e+" "+o:e+o:e}e.exports?(r.default=r,e.exports=r):void 0===(t=function(){return r}.apply(o,[]))||(e.exports=t)}()}},o={};function t(n){var r=o[n];if(void 0!==r)return r.exports;var i=o[n]={exports:{}};return e[n](i,i.exports,t),i.exports}t.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return t.d(o,{a:o}),o},t.d=(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";t.r(n),t.d(n,{AvailableInPro:()=>C,ControlNotice:()=>R,PRO_ON_FREE_FLAG:()=>A,ProBadge:()=>M,ProItem:()=>L,ProModal:()=>O,ProModalTextContext:()=>w,UpgradeToPro:()=>h,addProTagToItem:()=>S,addProTagToItems:()=>I,getStringValueWithId:()=>d,isFreeVersion:()=>B,noticeMessage:()=>b,proBadgeClasses:()=>N,proItemOnFree:()=>T,proItemOnFreeClass:()=>E,sortItemsByPro:()=>D,tryOnline:()=>f,upgradeToPro:()=>v,upgradeToProURL:()=>m,useProModal:()=>y});const e=window.wp.components,o=window.wp.element,r=window.wp.i18n,i=window.kubio.utils,l=window.lodash;var a,s=t.n(l);const u={pro:{link:top.kubioUtilsData.homepage_url,pricing_link:top.kubioUtilsData.upgrade_url,typography:(0,r.__)("Available only in the PRO version","kubio"),upgrade:{label:(0,r.__)("Upgrade to PRO","kubio")},try:{label:(0,r.__)("Try PRO Online","kubio"),msg:(0,r.__)("Get unlimited options with Kubio PRO","kubio"),link:top.kubioUtilsData.theme_try_online},subscribe:{label:(0,r.__)("PRO version coming soon","kubio"),msg:(0,r.__)("The PRO version of Kubio will be available soon. Please enter your email below and we’ll announce you when it’s ready.","kubio")},popup:{option:(0,r.__)("This option is available only in the PRO version.","kubio"),innerpage:(0,r.__)("Adding predefined blocks to inner pages is available only in the PRO version.","kubio"),colorscheme:(0,r.__)("Customizing color scheme colors is available only in the PRO version.","kubio"),component:(0,r.__)("This component is available only in the PRO version.","kubio"),gradient:(0,r.__)("Customizing gradient settings is available only in the PRO version.","kubio"),buttonsLimit:(0,r.__)("Adding more than 2 items is available only in the PRO version.","kubio")},infobox:{text:(0,r.__)("Text customization options (font, color, etc) are only available in the PRO version.","kubio"),default:(0,r.__)("More customization options available in the PRO version.","kubio"),icon:(0,r.__)("More color options are available in the PRO version.","kubio"),button:(0,r.__)("More customization options available in the PRO version.","kubio"),menu:(0,r.__)("More menu design options are available in the PRO version.","kubio")},advanced:(0,r.__)("Advanced options are only available in the PRO version.","kubio"),footer:{msg:(0,r.__)("Footer text and customization options are available in the PRO version","kubio")}}},c=!0!==(null===(a=window.kubioUtilsData)||void 0===a?void 0:a.enable_try_online),d=e=>s().get(u,e,""),p=window.wp.url,b=e=>{let o=e.title||d(e.msgid?e.msgid:"pro.infobox.default");const t=e.include?e.include.join(", "):"";return o=o.replace("{{props}}",t),o=o.replace(/\[pro-link\]([\w]+)\[\/pro-link\]/,""),o},m=(e={})=>{const{source:o,content:t,...n}=e;return(0,p.addQueryArgs)(d("pro.pricing_link","_blank"),{utm_medium:"editor",utm_source:o,utm_content:t,upgrade_key:top.kubioAIUpgradeKey||"",...n})},v=(e={})=>{var o;const t=window.open(m(e));null==t||null===(o=t.focus)||void 0===o||o.call(t)};let _=null;const f=(e={})=>{var o,t;if(!_||_.closed){const o=((e={})=>{let o=d("pro.try.link");if(top.kubioUtilsData.last_imported_starter){const[e,t]=top.kubioUtilsData.try_starter_site.split("?");o=e.replace(/\/+$/,"")+`/${top.kubioUtilsData.last_imported_starter}?${t}`}const{source:t,content:n,...r}=e;return o=(0,p.addQueryArgs)(o,{utm_medium:"editor",utm_source:t,utm_content:n,...r}),o})(e);_=window.open(o,"_blank")}null===(o=_)||void 0===o||null===(t=o.focus)||void 0===t||t.call(o)};var g=t(5893);const h=({urlArgs:t={},message:n=null})=>{const r=(0,o.useCallback)((e=>{e.preventDefault(),v(t)}),[t]),i=(0,o.useCallback)((e=>{e.preventDefault(),f(t)}),[t]);return(0,g.jsx)(e.BaseControl,{className:"kubio-feature-upgrade-to-pro",children:(0,g.jsxs)("div",{className:"upgrade-to-pro__content",children:[(0,g.jsx)("p",{className:"label-title",children:n||d("pro.try.msg")}),(0,g.jsxs)("div",{className:"upgrade-to-pro__content-buttons",children:[(0,g.jsx)(e.Button,{className:"btn-upgrade",onMouseUp:r,children:d("pro.upgrade.label")}),!c&&(0,g.jsx)(e.Button,{className:"btn-try",onMouseUp:i,children:d("pro.try.label")})]})]})})},k=window.wp.compose,w=(0,o.createContext)(d("pro.popup.option")),y=()=>(()=>{const[e,t]=(0,o.useState)({default:!1}),n=(o,n="default")=>{t({...e,[n]:o})};return[(0,o.useCallback)((o=>{const{id:t="default"}=o;return!(null==e||!e[t])&&(0,g.jsx)(O,{onClose:()=>{n(!1,t)},...o})}),[e]),n]})(),x=(0,i.wpVersionCompare)("6.3.1","<"),P=e=>{var o,t;e.preventDefault(),e.stopPropagation(),null==e||null===(o=e.nativeEvent)||void 0===o||null===(t=o.stopImmediatePropagation)||void 0===t||t.call(o)},O=(0,o.forwardRef)(((t={})=>{var n;const{onClose:r=s().noop,anchorRef:l,urlArgs:a={},className:u=""}=t,c=(0,k.useInstanceId)(O),d=null!==(n=null==l?void 0:l.current)&&void 0!==n?n:l,p=(0,o.useRef)(),b=(0,o.useCallback)((e=>{const o=null==e?void 0:e.target;p.current===o||p.current.contains(o)||r()}),[r]);(0,i.useOnClickOutside)(p,b);const m=(0,o.useCallback)((e=>{e.detail.modalEl.isSameNode(p.current)||r()}),[]);(0,o.useEffect)((()=>{if(p.current){(e=>{const o=new e.ownerDocument.defaultView.CustomEvent("kubio-pro-modal-showed",{detail:{modalEl:e}});e.ownerDocument.defaultView.dispatchEvent(o)})(p.current);const e=p.current.ownerDocument.defaultView;return e.addEventListener("kubio-pro-modal-showed",m),()=>e.removeEventListener("kubio-pro-modal-showed",m)}}),[m,p]);const v=(0,o.useMemo)((()=>{const e=d;if(!d)return;const o={};return x&&(o.ownerDocument=e.ownerDocument),{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e,...o}}),[d]);return(0,g.jsxs)(g.Fragment,{children:[(0,o.createPortal)((0,g.jsx)("div",{className:"kubio-upgrade-to-pro-popup-slot",children:(0,g.jsx)(e.Popover.Slot,{name:`kubio-upgrade-to-pro-popup-${c}`})}),document.body),(0,g.jsx)(e.Popover,{position:"bottom center",className:`kubio-upgrade-to-pro-popup sidebar-popover-container ${u}`,anchor:d?v:void 0,shift:!0,flip:!0,placement:"bottom",__unstableSlotName:`kubio-upgrade-to-pro-popup-${c}`,focusOnMount:!1,children:(0,g.jsx)("div",{ref:p,onClick:P,onMouseDown:P,children:(0,g.jsx)(j,{urlArgs:a})})})]})}));function j({urlArgs:e}={}){const t=(0,o.useContext)(w);return(0,g.jsx)(h,{urlArgs:e,message:t})}const R=({showLabel:o=!0,label:t,content:n=""})=>(0,g.jsx)(e.BaseControl,{children:(0,g.jsxs)("div",{className:"h-control-notice",children:[o&&(0,g.jsx)("span",{className:"h-control-notice__label",children:t}),(0,g.jsx)("div",{className:"h-control-notice__content",children:n})]})}),C=({displayModal:t=!0,urlArgs:n={},...i}={})=>{const l=(0,o.useRef)(),[a,s]=y(),u=(0,o.useCallback)((e=>{t?(e.preventDefault(),e.stopPropagation(),s(!0)):v(n)}),[]),p=(0,o.useCallback)((()=>{f(n)}),[]);return(0,g.jsx)(e.BaseControl,{ref:l,className:"kubio-feature-available-in-pro",children:(0,g.jsxs)("div",{className:"h-control-notice",children:[(0,g.jsx)("span",{className:"h-control-notice__label",children:(0,r.__)("PRO","kubio")}),(0,g.jsx)("div",{className:"h-control-notice__content",children:(0,g.jsx)("label",{className:"label-title",children:b(i)})}),(0,g.jsxs)(e.Flex,{justify:"flex-start",align:"flex-start",className:"h-control-notice__content",children:[(0,g.jsxs)(e.Button,{isSmall:!0,variant:"primary",onClick:u,children:[d("pro.upgrade.label"),t&&(0,g.jsx)(a,{urlArgs:n,anchorRef:l.current})]}),!t&&!c&&(0,g.jsx)(e.Button,{isSmall:!0,variant:"secondary",onClick:p,children:d("pro.try.label")})]})]})})},N={proItem:"kubio-pro-item",badgeClass:"kubio-pro-item__badge"},A="isProOnFree";function D(e,o=!1){return s().sortBy(e,[function(e){return!0===(null==e?void 0:e[A])}],[o])}function S(e){return s().set(e,A,!0),e}function I(e,o=[]){const t=s().cloneDeep(e);return s().each(t,((e,t)=>{s().isFunction(o)&&(o(e,t)||s().set(e,A,!0)),s().isArray(o)&&(o.includes(s().get(e,"value"))||s().set(e,A,!0))})),t}const T=e=>!0===e||(null==e?void 0:e[A]),E=e=>{const o=[];return T(e)&&o.push(N.proItem),o},M=({item:e})=>T(e)?(0,g.jsx)("div",{className:N.badgeClass,children:(0,r.__)("PRO","kubio")}):null,B=()=>!0;var F=t(3967),U=t.n(F);const L=(0,o.forwardRef)(((e,o)=>{const{tag:t="div",isProItem:n=!0,children:r,...i}=e;return n?(0,g.jsx)($,{tag:t,ref:o,...i,children:r}):(0,g.jsx)(t,{...i,ref:o,children:r})})),$=(0,o.forwardRef)(((e,t)=>{const{tag:n="div",item:r=!0,onClick:i=s().noop,className:l,children:a,urlArgs:u,propPopoverClass:c="",...d}=e,[p,b]=y(),m=(0,o.useRef)(),v=t||m;let _=null;return _=(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(M,{item:r}),(0,g.jsx)(p,{urlArgs:u,anchorRef:v.current,className:c})]}),(0,g.jsxs)(n,{...d,ref:v,className:U()(l,E(r)),onClick:e=>{if(T(r))return e.preventDefault(),e.stopPropagation(),void b(!0);i(e)},children:[a,_]})})),z=window.wp.blocks;(0,window.wp.hooks.addFilter)("kubio.beforeInsertBlock","kubio/pro/blocks",((e,o={})=>{const t=(0,z.getBlockType)(null==e?void 0:e.name);return e.isProOnFree=t.isPro,e.isProOnFree&&(e.disabled=!0,e.isDisabled=!0),e}))})(),(window.kubio=window.kubio||{}).pro=n})();
