(()=>{"use strict";var e={5251:(e,t,o)=>{var n=o(9196),l=Symbol.for("react.element"),s=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function d(e,t,o){var n,s={},d=null,u=null;for(n in void 0!==o&&(d=""+o),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(u=t.ref),t)r.call(t,n)&&!i.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:l,type:e,key:d,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=d,t.jsxs=d},5893:(e,t,o)=>{e.exports=o(5251)},9196:e=>{e.exports=window.React}},t={};function o(n){var l=t[n];if(void 0!==l)return l.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,o),s.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{o.r(n),o.d(n,{AdvancedInspectorPanel:()=>g,StatesControl:()=>b,withInspectorControlsAdvancedPanel:()=>R}),window.kubio.adminPanel;const e=window.kubio.constants,t=window.kubio.controls,l=window.kubio.core,s=window.kubio.inspectors,r=window.kubio.styleManager,a=window.wp.components,i=window.wp.compose,d=window.wp.data,u=window.wp.element,c=window.wp.i18n,p=window.lodash;var S=o.n(p);const y=window.kubio.log,m={[r.StylesEnum.TYPOGRAPHY]:{control:t.TypographyForTextAdvanced,mapsToStyle:!1,title:(0,c.__)("Typography","kubio")},[r.StylesEnum.TYPOGRAPHY_FOR_HEADING]:{control:t.TypographyForHeading,mapsToStyle:!1,title:(0,c.__)("Typography","kubio")},[r.StylesEnum.TYPOGRAPHY_FOR_CONTAINER]:{control:t.TypographyForContainer,mapsToStyle:!1,title:(0,c.__)("Typography","kubio")},[r.StylesEnum.TYPOGRAPHY_FOR_CONTAINER_ADVANCED]:{control:t.TypographyForContainerAdvanced,mapsToStyle:!1,title:(0,c.__)("Typography","kubio")},[r.StylesEnum.SPACING]:{control:t.SpacingControl,mapsToStyle:!1,title:(0,c.__)("Spacing","kubio")},[r.StylesEnum.BORDER]:{control:t.BorderAndShadowControl,mapsToStyle:!1,title:({filters:e})=>{const{supportsBorder:t=!0,supportsBoxShadow:o=!0}=e;return t&&o?(0,c.__)("Border and Shadows","kubio"):t&&!o?(0,c.__)("Border","kubio"):!t&&o?(0,c.__)("Box shadow","kubio"):void 0}},[r.StylesEnum.BACKGROUND]:{control:t.BackgroundControl,title:(0,c.__)("Background","kubio"),options:{mergeArrays:!0}},[r.StylesEnum.TEXT_SHADOW]:{control:t.TextShadowControl,title:(0,c.__)("Text shadow","kubio")},[r.StylesEnum.RESPONSIVE]:{shouldRender:({filters:e})=>!(null!=e&&e.isDisabled),control:t.ResponsiveControl,mapsToStyle:!1,title:(0,c.__)("Responsive","kubio")},[r.StylesEnum.SEPARATORS]:{control:t.SeparatorsControl,title:(0,c.__)("Dividers","kubio")},[r.StylesEnum.TRANSFORM]:{control:t.TransformControl,title:(0,c.__)("Transform","kubio"),options:{mergeData:!0}},[r.StylesEnum.APPEARANCE]:{shouldRender:({filters:e})=>!(null!=e&&e.isDisabled),control:t.AppearanceControl,title:(0,c.__)("Entrance animation","kubio")},[r.StylesEnum.TRANSITION]:{control:t.TransitionControlOnHover,shouldRender:e=>"hover"===e.state,title:(0,c.__)("Transition","kubio")},[r.StylesEnum.MISC]:{shouldRender:({filters:e})=>!(null!=e&&e.isDisabled),control:t.MiscControl,title:(0,c.__)("Miscellaneous","kubio")}},E=[r.StylesEnum.TRANSITION,r.StylesEnum.BACKGROUND,r.StylesEnum.SEPARATORS,r.StylesEnum.SPACING,r.StylesEnum.BORDER,r.StylesEnum.BOX_SHADOW,r.StylesEnum.TYPOGRAPHY,r.StylesEnum.TYPOGRAPHY_FOR_CONTAINER,r.StylesEnum.TYPOGRAPHY_FOR_CONTAINER_ADVANCED,r.StylesEnum.TYPOGRAPHY_FOR_HEADING,r.StylesEnum.TEXT_SHADOW,r.StylesEnum.TRANSFORM,r.StylesEnum.APPEARANCE,r.StylesEnum.RESPONSIVE,r.StylesEnum.MISC];var _=o(5893);const v=({selectedElement:e})=>{let t=[];return e&&(t=(0,p.get)(e,"supports.states",["normal","hover"])),t},b=({activeState:e,setActiveState:t,availableStates:o=[],selectedElement:n=null,label:l=null})=>{var s;const i=(0,p.isEmpty)(o)?v({selectedElement:n}):o,d=null===(s=(0,p.find)(r.statesById,{value:e}))||void 0===s?void 0:s.id;return!(i.length<=1)&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{className:"kubio-states-control-label",title:l,children:l}),(0,_.jsx)(a.__experimentalRadioGroup,{id:"kubio-states-control",className:"kubio-states-control-radio-group",defaultChecked:e,checked:d,onChange:e=>{var o;return t(null===(o=r.statesById[e])||void 0===o?void 0:o.value)},children:i.map((e=>{var t,o;return(0,_.jsx)(a.__experimentalRadio,{value:null===(t=r.statesById[e])||void 0===t?void 0:t.id,children:null===(o=r.statesById[e])||void 0===o?void 0:o.label},e)}))})]})},k=window.wp.blocks,O=e=>{const{styles:t,selectedStyledElement:o,dataHelper:n}=e;return E.filter((e=>t.includes(e))).filter(Boolean).map((e=>(0,_.jsx)(A,{style:e,selectedStyledElement:o,dataHelper:n},e)))},A=({style:e,selectedStyledElement:t,dataHelper:o})=>{const{defaultOptions:n}=(0,l.useDataHelperDefaultOptionsContext)(),s=m[e];if(!s)return y.Log.error(`Advanced panel: "${e}" does not exists`),(0,_.jsx)(_.Fragment,{});const{control:r,mapsToStyle:i=!0,shouldRender:d=(()=>!0),options:u={}}=s,c=i?o.useStylePath(e,{...n,...u},{}):{dataHelper:o},p=S().get(t,["supports","filters",e],{});let E="";E="function"==typeof m[e].title?m[e].title({filters:p}):m[e].title;const v={dataHelper:o,property:e,state:S().get(n,"state"),...c,filters:p,styledElement:t.name};return d(v)&&(0,_.jsx)(a.PanelBody,{classname:"kubio-advanced-panel-panelbody",title:E,initialOpen:!1,children:(0,_.jsx)(r,{...v})},`panel-${e}`)},h=e=>{const{name:o,clientId:n}=e,{blockDefinition:s,getBlock:a}=(0,d.useSelect)((e=>({blockDefinition:e("core/blocks").getBlockType(o),getBlock:e("core/block-editor").getBlock}))),{displayAdvancedPanelFor:i}=s,p=i?i(n,d.select):null,y=p?a(p).name:o,m=(0,l.getBlockElements)(y,!1,!0),E=(0,l.getBlockDefaultElement)(y)||m[0],[A,h]=(0,u.useState)(""),[g,R]=(0,u.useState)(E),f=S().get(g,"supports.styles",[]),T=(0,u.useMemo)((()=>m.reduce(((e,t)=>{const{items:o}=t;return o?[...e,...o]:[...e,t]}),[])),[m]),w=null==g?void 0:g.name,C=(0,d.useSelect)((e=>e("core/block-editor").getBlock(p||n)),[p,n]),{dataHelper:x}=(0,l.useKubioDataHelper)(C),P={state:A,styledComponent:w},N=(0,l.useDataHelperDefaultOptionsContext)({defaultOptions:P});if(!f.length)return(0,_.jsx)("div",{className:"kubio-editing-header",children:(0,_.jsx)(t.ControlNotice,{content:(0,c.__)("Current block does not support advanced styling","kubio")})});const D=T.filter((e=>!e.internal)).length;x.kubioSupports("advanced.responsive",!0)&&(g.wrapper||D<=1)&&f.push(r.StylesEnum.RESPONSIVE),x.kubioSupports("advanced.misc",!0)&&(g.wrapper||D<=1)&&f.push(r.StylesEnum.MISC),(0,k.hasBlockSupport)(null==x?void 0:x.blockName,"kubio.appearanceEffect",!1)&&f.push(r.StylesEnum.APPEARANCE);const I=v({selectedElement:g});return(0,_.jsx)(l.DataHelperDefaultOptionsContext.Provider,{value:N,children:(0,_.jsxs)(l.KubioBlockContext.Provider,{value:{dataHelper:x},children:[(m.length>1||I.length>1)&&(0,_.jsxs)("div",{className:"kubio-editing-header",children:[m.length>1&&(0,_.jsx)(t.GutentagSelectControl,{className:"kubio-editing-select",label:(0,c.__)("Editing","kubio"),value:null==g?void 0:g.name,onChange:e=>{R(T.find((t=>t.name===e))),h("")},options:m}),(0,_.jsx)(b,{label:(0,c.__)("State","kubio"),activeState:A,setActiveState:e=>{h("normal"===e?"":e)},selectedElement:g,availableStates:I})]}),(0,_.jsx)(O,{...e,styles:f,selectedStyledElement:g,dataHelper:x})]})})},g=t=>((0,d.useSelect)((t=>!!t(e.STORE_KEY)&&t(e.STORE_KEY).isGutentagDebug()),[]),(0,_.jsx)(s.AdvancedInspectorControls,{clientId:t.clientId,children:(0,_.jsx)(h,{...t})})),R=(0,i.createHigherOrderComponent)((e=>o=>{const n=(0,l.getBlockAncestor)(null==o?void 0:o.name),{ancestor:r}=(0,l.useAncestorContext)();let a={};n&&r===n&&(a={ancestor:r}),n&&(a.inheritedAncestor=n);const i={defaultOptions:a},d=(0,l.useDataHelperDefaultOptionsContext)(i);return(0,_.jsxs)(l.DataHelperDefaultOptionsContext.Provider,{value:d,children:[(0,_.jsx)(e,{...o}),o.isSelected&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(g,{...o}),(0,_.jsxs)(s.BlockInspectorTopControls,{children:[(0,_.jsx)(t.LinkedNotice,{...o}),(0,_.jsx)(t.AncestorNotice,{})]})]})]})}),"withInspectorControlsAdvancedPanel")})(),(window.kubio=window.kubio||{}).advancedPanel=n})();
