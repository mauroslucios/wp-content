(()=>{var e={7418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,a){for(var r,o,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in r=Object(arguments[l]))n.call(r,c)&&(s[c]=r[c]);if(t){o=t(r);for(var u=0;u<o.length;u++)i.call(r,o[u])&&(s[o[u]]=r[o[u]])}}return s}},2703:(e,t,n)=>{"use strict";var i=n(414);function a(){}function r(){}r.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,r,o){if(o!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:a};return n.PropTypes=n,n}},5697:(e,t,n)=>{e.exports=n(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},5251:(e,t,n)=>{"use strict";var i=n(9196),a=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,r={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,i)&&!l.hasOwnProperty(i)&&(r[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===r[i]&&(r[i]=t[i]);return{$$typeof:a,type:e,key:c,ref:u,props:r,_owner:s.current}}t.Fragment=r,t.jsx=c,t.jsxs=c},5893:(e,t,n)=>{"use strict";e.exports=n(5251)},4670:(e,t,n)=>{"use strict";e.exports=n(5607)},9829:(e,t,n)=>{"use strict";var i,a,r,o=n(8946),s="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function l(){r=!1}function c(e){if(e){if(e!==i){if(e.length!==s.length)throw new Error("Custom alphabet for shortid must be "+s.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter((function(e,t,n){return t!==n.lastIndexOf(e)}));if(t.length)throw new Error("Custom alphabet for shortid must be "+s.length+" unique characters. These characters were not unique: "+t.join(", "));i=e,l()}}else i!==s&&(i=s,l())}function u(){return r||(r=function(){i||c(s);for(var e,t=i.split(""),n=[],a=o.nextValue();t.length>0;)a=o.nextValue(),e=Math.floor(a*t.length),n.push(t.splice(e,1)[0]);return n.join("")}())}e.exports={get:function(){return i||s},characters:function(e){return c(e),i},seed:function(e){o.seed(e),a!==e&&(l(),a=e)},lookup:function(e){return u()[e]},shuffled:u}},480:(e,t,n)=>{"use strict";var i,a,r=n(8416);n(9829),e.exports=function(e){var t="",n=Math.floor(.001*(Date.now()-1567752802062));return n===a?i++:(i=0,a=n),t+=r(7),t+=r(e),i>0&&(t+=r(i)),t+r(n)}},8416:(e,t,n)=>{"use strict";var i=n(9829),a=n(3766),r=n(296);e.exports=function(e){for(var t,n=0,o="";!t;)o+=r(a,i.get(),1),t=e<Math.pow(16,n+1),n++;return o}},5607:(e,t,n)=>{"use strict";var i=n(9829),a=n(480),r=n(1082),o=n(5636)||0;function s(){return a(o)}e.exports=s,e.exports.generate=s,e.exports.seed=function(t){return i.seed(t),e.exports},e.exports.worker=function(t){return o=t,e.exports},e.exports.characters=function(e){return void 0!==e&&i.characters(e),i.shuffled()},e.exports.isValid=r},1082:(e,t,n)=>{"use strict";var i=n(9829);e.exports=function(e){return!(!e||"string"!=typeof e||e.length<6||new RegExp("[^"+i.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(e))}},3766:e=>{"use strict";var t,n="object"==typeof window&&(window.crypto||window.msCrypto);t=n&&n.getRandomValues?function(e){return n.getRandomValues(new Uint8Array(e))}:function(e){for(var t=[],n=0;n<e;n++)t.push(Math.floor(256*Math.random()));return t},e.exports=t},8946:e=>{"use strict";var t=1;e.exports={nextValue:function(){return(t=(9301*t+49297)%233280)/233280},seed:function(e){t=e}}},5636:e=>{"use strict";e.exports=0},296:e=>{e.exports=function(e,t,n){for(var i=(2<<Math.log(t.length-1)/Math.LN2)-1,a=-~(1.6*i*n/t.length),r="";;)for(var o=e(a),s=a;s--;)if((r+=t[o[s]&i]||"").length===+n)return r}},9196:e=>{"use strict";e.exports=window.React},3967:(e,t)=>{var n;!function(){"use strict";var i={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,r(n)))}return e}function r(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)i.call(e,n)&&e[n]&&(t=o(t,n));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};(()=>{"use strict";n.r(i),n.d(i,{AIApiError:()=>G,AIDataProvider:()=>x,AIWizard:()=>va,aiImageGenerateFromText:()=>de,aiImageMask:()=>he,aiImageVariations:()=>pe,aiSearchImages:()=>fe,aiSearchedImageSave:()=>ge,categoriesToSectionsList:()=>zt,changeTextPrompt:()=>le,determineSiteMood:()=>ee,fillSectionTemplate:()=>Wt,findPattern:()=>N,generateColorScheme:()=>te,generatePageStructure:()=>Et,generatePageStructureApi:()=>J,generateSectionContent:()=>ne,generateSiteStructure:()=>Z,getAIInfo:()=>q,getAIUsage:()=>X,getBusinessTypes:()=>a,getContentLanguageStyles:()=>C,getContentLanguages:()=>_,getFromGenerationSession:()=>ht,getPageContentSectionTemplate:()=>Nt,getPageFooterTemplate:()=>At,getPageHederTemplate:()=>Mt,getPageSectionsTemplates:()=>Rt,initGenerationSession:()=>dt,normalizeCategorySlug:()=>j.normalizeCategorySlug,normalizeSection:()=>Ct,openConnectPopup:()=>l,optimizePrompt:()=>ce,processContent:()=>oe,prompt:()=>se,rephraseSectionContent:()=>ie,rephraseSectionTemplate:()=>Vt,saveAiGeneralSettings:()=>Q,searchImages:()=>ae,searchVideo:()=>re,sectionTemplateBlockGetParents:()=>M,sectionTemplateBlockHasParent:()=>A,setAIKey:()=>K,setInGenerationSession:()=>pt,textToImage:()=>ue,useAIData:()=>v,useAIServiceInfo:()=>y,useIsAIConnected:()=>b});const e=window.kubio.utils,t=window.wp.i18n,a=()=>(0,e.getBackendData)("aiBusinessTypes",{natural:{label:(0,t.__)("Business","kubio"),value:"Business",description:(0,t.__)("Resources and insights for starting, managing, and growing businesses.","kubio")}}),r=window.wp.url,o=window.lodash;var s=n.n(o);const l=async()=>new Promise(((t,n)=>{const{screen:i}=window,a=(0,o.first)((0,e.getBackendData)("kubioCloudUrl").split("?")).replace(/\/+$/,""),s=["popup","innerWidth=500","innerHeight=600","left="+(i.width-500)/2,"top="+(i.height-600)/2*.8],l=(0,r.addQueryArgs)(`${a}/ui-route/connect-ai`,{key:""}),c=window.open(l,"kubioAIConnect",s.join(",")),u=e=>{const{action:i=null,value:a=null,error:r=null}=e.data||{};if("ai_subscription_key"===i){if(c.close(),window.removeEventListener("message",u),r)return n(n);t(a)}};window.addEventListener("message",u)})),c=window.kubio.constants,u=window.kubio.core,d=window.kubio.editorData,p=window.kubio.globalData,h=window.wp.coreData,f=window.wp.data,g=window.wp.element;var m=n(5893);const b=()=>{const[t,n]=(0,d.useGlobalSessionProp)("isAIConnected",(0,e.getBackendData)("aiIsConnected",!1));return[t,n]},y=()=>{const e=(0,f.useSelect)((e=>e(c.STORE_KEY).getAIInfo())),{updateAIInfo:t}=(0,f.useDispatch)(c.STORE_KEY);return[e,t]},k=Object.freeze({}),w=(0,g.createContext)([k,o.noop]),v=()=>(0,g.useContext)(w),x=({children:t})=>{const[n,i]=(0,d.useGlobalSessionProp)("aiGeneratorData",k),a=(0,d.useGetGlobalSessionProp)("ready",!1),{title:r}=(0,p.useSiteLogoImages)(),s=(0,u.usePageTitle)(),[l]=b();y();const{recordFallback:v,isFrontPage:x,pageContextFallback:_,frontPageEntity:C,blogPageEntity:j,otherPages:S}=(0,f.useSelect)((e=>{const{getCurrentPostType:t,getCurrentPostId:n,getIsFrontPage:i}=e(c.STORE_KEY),{getEntityRecord:a,getEntityRecords:r}=e(h.store),{page_for_posts:s,page_on_front:l}=a("root","site")||{},u=a("postType",t(),n()),d=l?a("postType","page",l):null,p=s?a("postType","page",s):null,f=(r("postType","page",{per_page:-1,exclude:[s,l,n()].filter(Boolean)})||[]).map((e=>({id:e.id,title:e.title.rendered})));return{recordFallback:u,pageContextFallback:(0,o.get)(u,["kubio_ai_page_context"],k),isFrontPage:i(),frontPageEntity:d,blogPageEntity:p,otherPages:f}}),[]),I=(0,e.getBackendData)("aiSettings"),P=(0,u.useDeepMemo)((()=>{var e,t;let{siteContext:i=null,pageContext:o=null,pageTitle:c=null,isRegenerate:u=!1,record:d=null}=n||{};i=i||I,o=o||_,c=c||s,d=d||v;const p=!i.structure_type||"multi-page"===i.structure_type;return{siteContext:{...i,business_name:null!==(e=null===(t=i)||void 0===t?void 0:t.business_name)&&void 0!==e?e:r,otherPages:S,isMultiPage:p},pageContext:a?{...o,title:c,isFrontPage:x}:{},isFrontPage:x,isRegenerate:u,record:d,pageTitle:c,isMultiPage:p,isAIConnected:l,frontPageEntity:C,blogPageEntity:j}}),[I,_,s,null==v?void 0:v.id,n,r,x,S,l,C,j]),O=(0,g.useCallback)(((e,t=null)=>{i((n=>{const i=(0,o.cloneDeep)(e);return t?(0,o.set)((0,o.cloneDeep)(n),t,i):i}))}),[i]);return(0,m.jsx)(w.Provider,{value:[P,O],children:t})},_=()=>(0,e.getBackendData)("aiLanguages",{en_EN:"English (US)"}),C=()=>(0,e.getBackendData)("aiLanguageStyles",{natural:{label:(0,t.__)("Natural","kubio"),description:(0,t.__)("Is the default language style. It can adapt to some extent depending on the cues from the user's input.","kubio")}}),j=window.kubio.blockPatterns,S=window.wp.blockEditor,I=window.kubio.log,P=(t,n)=>{const i=(0,o.get)(t,["kubioAI","meta","initialValues","words"],null);if(i)return i;const a=(0,o.get)(t,n,"");return(0,o.words)((0,e.stripTags)(a)).length},O=(t,n)=>{const i=(0,o.get)(t,["kubioAI","meta","initialValues","chars"],null);if(i)return i;const a=(0,o.get)(t,n,"");return(0,o.words)((0,e.stripTags)(a)).reduce(((e,t)=>e+t.length),0)},E=(e,t=!1)=>{if(e=e.replace(/kubio(.*?)\//,""),t)switch(e){case"contact-info":case"contact-map":case"contact-form":e="contact"}return e},M=(e,t)=>{let n=[...t].slice(0,-2);const i=[];for(;n.length;){const t=(0,o.get)(e,n);i.push(t[0]),n=n.slice(0,-2)}return i},A=(e,t,n)=>M(e,t).includes(n),T=["blank-section"],N=(t="*",n={})=>{const{tag:i,exclude:a,excludeWithTags:r=[],excludeSectionWithBackground:l,findBy:c=null,skippableTags:u=[],skipSlug:d=[],skipIds:p=[],returnAll:h=!1}=s().merge({exclude:[],excludeSectionWithBackground:!1,tag:null},n);t=(0,j.normalizeCategorySlug)(t);const g=(0,o.castArray)(i).filter(Boolean);let m=d;const b=[...u],y=E(t);switch(y){case"contact":r.push("contact-info","contact-map");break;case"contact-info":case"contact-map":case"contact-form":g.includes(y)||(g.push(y),u.push(y)),t="kubio-content/contact"}const k=(0,f.select)(S.store).getSettings().__experimentalBlockPatterns.filter((e=>e.isGutentagPattern));if(c){const e=(0,o.find)(k.filter((e=>!e.isProOnFree)),c);return e||I.Log.warn("Unable to find by",c),e}const w=(n,i=[])=>{let s="*"===t;if(p.includes(n.cloudPresetId))return!1;if(m.includes(n.name))return!1;if(s||(s=n.categories.find((e=>t===(0,j.normalizeCategorySlug)(e)))),!s)return!1;if(((e,t=[],n=!1)=>{const i=(0,j.getSectionSlugFromPattern)(e),a=(r=i,T.includes(r)||t.includes(i));var r;return!0===n?a||L(e.content[1]):a})(n,a,l))return!1;if(!(e=>((null==e?void 0:e.internalTags)||[]).includes("ai-ready"))(n))return!1;const c=[...n.publicTags||[],...n.internalTags||[]];return!r.some((e=>c.includes(e)))&&(!!(0,o.difference)(g,i).every((e=>c.includes(e)))&&(!!(0,e.isPatternAvailableInCurrentTheme)(n)&&!n.isProOnFree))};let v=k.filter((e=>w(e)));if((0,o.isEmpty)(v)&&(m=[],v=k.filter((t=>w(t,b.concat((0,e.getBackendData)("sectionStylesTags")))))),h)return v;const x=(0,o.sample)(v);return x?(I.Log.info(`Pattern found: ${x.slug}`),s().cloneDeep(x)):null};function L(e,t="outer"){if(!e)return!1;const n=["kubio","style","descendants",t,"background"],i=(0,o.get)(e,[...n,"type"]);return!!["image","slideshow"].includes(i)}function z(e,t,n=null){return!n||n.isFrontPage||("team"===n.purpose&&"team"===t&&e.push("dedicated-page"),"gallery"===n.purpose&&"photo-gallery"===t&&e.push("dedicated-page"),"portfolio"===n.purpose&&"portfolio"===t&&e.push("dedicated-page")),e}const R=(e,t)=>{let n=!1;if(t.isFrontPage)n=!0;else switch(e){case"team":n="team"!==t.purpose;break;case"portfolio":n="portfolio"!==t.purpose;break;case"photo-gallery":n="gallery"!==t.purpose}return[n?"dedicated-page":null].filter(Boolean)},F=window.wp.apiFetch;var D=n.n(F);const B=window.wp.hooks,W=window.wp.notices,V=e=>e.map((e=>{const t=(e.elements||[]).map((e=>(0,o.omit)(e,["path","attributePath"])));return{...e,elements:t}}));var $=n(4670),U=n.n($);class G extends Error{}const H=(e,t={})=>{var n,i;return null!==(n=e=(0,o.cloneDeep)(e))&&void 0!==n&&null!==(i=n.siteContext)&&void 0!==i&&i.cta&&(0,o.unset)(e,["siteContext","cta"]),{...e,remainingRetries:t.retries||null}},Y=async(e,n={},{method:i="POST",skipCreditsCheck:a=!1,retries:s=2,__kubio_call_id:l=null}={})=>{const{updateAIInfo:u=o.noop}=(0,f.dispatch)(c.STORE_KEY)||{},{getAIInfo:d=o.noop}=(0,f.select)(c.STORE_KEY)||{},p=l||U().generate();let h,g=a;if(!g){const{remainingCredits:e=0}=d()||{};g=e>0}if(!g)throw(0,B.doAction)("kubio.ai.zero_credits"),new G((0,t.__)("Your account has insufficient credits","kubio"),{cause:"zero_credits"});let m="";try{const t=await D()({path:(0,r.addQueryArgs)(`/kubio/v1/ai/${e}`,{__kubio_call_id:p}),method:i,data:H(n,{retries:s})});m=t.upgrade_key||"",h=t.content;const a=(0,o.get)(t,"service_info.remaining_credits",null);(0,o.isNull)(a)||u({...d(),remainingCredits:a})}catch(r){const l=504===parseInt(r.code)||(r.code+"").startsWith("ai_service:");if("ai_service:pexels_request"===r.code&&!s)return I.Log.error("Kubio AI: API error",r,h),null;if("ai_service:invalid_element"===r.code&&!s)return I.Log.warn("Kubio AI: No retry managed to fixed generate elements problem. Return last result as is",r,h),(0,o.get)(r,"data.content",null);if(l&&s)return I.Log.warn(`AI service failed. ${s} retries left`,r),await Y(e,n,{method:i,skipCreditsCheck:a,retries:s-1,__kubio_call_id:p});if("zero_credits"===r.code)throw(0,B.doAction)("kubio.ai.zero_credits"),new G((0,t.__)("Your account has insufficient credits","kubio"),{cause:"zero_credits"});const c=(0,t.__)("There was an error with the KubioAI services. If the error persists, please contact support","kubio");throw(0,f.dispatch)(W.store).createErrorNotice((0,t.sprintf)(// translators: %s is the error text
// translators: %s is the error text
(0,t.__)("Kubio AI: %s","kubio"),c),{id:"kubio-ai-api-fetch-error",type:"snackbar"}),I.Log.error("Kubio AI: API error",r,h),new G(c,{cause:r.code})}return m&&(top.kubioAIUpgradeKey=m),h},K=async({aiKey:e})=>await Y("set-ai-key",{key:e},{skipCreditsCheck:!0}),q=async()=>await Y("info",{},{skipCreditsCheck:!0}),X=async(e=1,t=20)=>await Y("usage",{page:e,perPage:t},{skipCreditsCheck:!0}),Q=async(e={})=>(s().set(window.kubioUtilsData,"aiSettings",(0,o.cloneDeep)(e)),await Y("settings",{settings:e},{skipCreditsCheck:!0})),J=async({pageTitle:e,allowedSections:t,siteContext:n,pageContext:i}={})=>await Y("generate-page-structure",{pageTitle:e,siteContext:n,pageContext:i,allowedSections:t}),Z=async({siteContext:e}={})=>await Y("generate-site-structure",{siteContext:e}),ee=async({siteContext:e}={})=>{const{mood:t=c.SITE_MOOD_VALUES.NEUTRAL,subject:n="",owner_type:i="organization",client_type:a="both",call_to_action:r,core_business:o=""}=await Y("determine-site-mood",{siteContext:e});let s=t.toLowerCase();switch(s){case"serious":case c.SITE_MOOD_VALUES.PROFESSIONAL:s=c.SITE_MOOD_VALUES.PROFESSIONAL;break;case"joyful":case c.SITE_MOOD_VALUES.PLAYFUL:s=c.SITE_MOOD_VALUES.PLAYFUL;break;default:s=c.SITE_MOOD_VALUES.NEUTRAL}return{mood:s,websiteSubject:n,ownerType:i,clientType:a,cta:r,coreBusiness:o.replace(/\W+/g," ").replace(/\s+/g," ")}},te=async({pageTitle:e,siteContext:t,pageContext:n,mood:i="neutral",primaryColors:a={}}={})=>await Y("generate-color-scheme",{pageTitle:e,siteContext:t,pageContext:n,mood:i,primaryColors:a},{retries:5}),ne=async({category:e,structure:t,pageTitle:n,siteContext:i,pageContext:a,summary:r,rules:o=[]}={})=>await Y("generate-section-content",{category:e,structure:V(t),pageTitle:n,siteContext:i,pageContext:a,summary:r,rules:o}),ie=async({category:e,structure:t,pageTitle:n,siteContext:i,pageContext:a,summary:r}={})=>await Y("rephrase-section-content",{category:e,structure:V(t),pageTitle:n,siteContext:i,pageContext:a,summary:r}),ae=async({search:e,initialImage:t="",perPage:n=10,page:i=1,mediaAttrs:a=null,width:r=null,height:s=null,orientation:l=null,color:c=null,skipOrientation:u=!1,crop:d=!1}={})=>!(0,o.isString)(e)||(0,o.isEmpty)(e)?(I.Log.error("Image search stopped early, the search param should be a non-empty string",new TypeError,e),{items:[]}):await Y("search-image",{search:e,initialImage:t,perPage:n,page:i,mediaAttrs:a,width:r,height:s,orientation:l,color:c,skipOrientation:u,crop:d}),re=async({search:e,perPage:t=10,page:n=1,mediaAttrs:i=null}={})=>await Y("search-video",{search:e,perPage:t,page:n,mediaAttrs:i}),oe=async({pageTitle:e,siteContext:t,pageContext:n,content:i,action:a,extras:r={}})=>await Y("process-text",{pageTitle:e,siteContext:t,pageContext:n,content:i,action:a,extras:r}),se=async({pageTitle:e,siteContext:t,pageContext:n,prompt:i,originalContent:a,short:r,type:o="text"})=>await Y("prompt",{pageTitle:e,siteContext:t,pageContext:n,prompt:i,originalContent:a,short:r,type:o}),le=async({pageTitle:e,siteContext:t,pageContext:n,promptData:i,text:a,type:r="text"})=>await Y("change-text",{pageTitle:e,siteContext:t,pageContext:n,promptData:i,text:a,type:r}),ce=async({prompt:e})=>await Y("summarize-prompt",{prompt:e}),ue=async({pageTitle:e,siteContext:t,pageContext:n,prompt:i,initialImage:a,imageSize:r})=>await Y("prompt-to-image",{pageTitle:e,siteContext:t,pageContext:n,prompt:i,initialImage:a,imageSize:r}),de=async({imagePrompt:e,initialImage:t,imageSize:n,imageStyle:i,imageType:a,numberOfImages:r,aspectRatio:o})=>await Y("generate-text-to-image",{imagePrompt:e,initialImage:t,imageSize:n,imageStyle:i,imageType:a,numberOfImages:r,aspectRatio:o}),pe=async({imagePrompt:e,currentSelectedImage:t,imageSize:n,imageStyle:i,imageType:a,numberOfImages:r})=>await Y("generate-image-variations",{imagePrompt:e,currentSelectedImage:t,imageSize:n,imageStyle:i,imageType:a,numberOfImages:r}),he=async({imagePrompt:e,currentSelectedImage:t,maskImage:n})=>await Y("image-mask",{imagePrompt:e,currentSelectedImage:t,maskImage:n}),fe=async({search:e,perPage:t=10,page:n=1,initialImage:i="",imageSize:a="medium",imageOrientation:r="portrait",aiPrompt:o=""}={})=>await Y("ai-search-images",{search:e,perPage:t,page:n,imageSize:a,imageOrientation:r,initialImage:i,aiPrompt:o}),ge=async({selectedImage:e})=>await Y("save-image",{selectedImage:e},{skipCreditsCheck:!0}),me={blocks:["kubio/image-gallery"],elements:["gallery"],transform:({path:e,addColumnElement:t})=>{t({name:"gallery",path:e})},setter:async(e,n,i)=>{const a=(0,o.get)(e,[...i.path,2],[]);if(a.length)try{const{query:r=null,caption:s="",color:l=null}=n||{},c=(0,o.get)(e,[...i.path,1,"kubio","props","showMasonry"]),u=await ae({search:r,skipOrientation:c,crop:!c,initialImage:c?void 0:(0,o.get)(a[0],[1,"url"]),perPage:a.length,mediaAttrs:["alt"],color:l});if(u.items){const n=[];for(let e=0;e<a.length;e++){const i=u.items[e%u.items.length];n.push({alt:"",caption:(0,t.sprintf)(s,e+1),id:0,url:i.url})}(0,o.set)([...i.path,1,"imagesData"],n);for(let t=0;t<a.length;t++){const a=[...i.path,2,t,1],r=(0,o.get)(e,a);(0,o.set)(e,a,{...r,...n[t]})}}}catch(e){I.Log.error(e)}}},be={blocks:["kubio/pricing"],elements:["price"],transform:({block:[,e],path:t,addColumnElement:n})=>{n({name:"price",path:t,on_sale:e.sale})},setter:async(e,t,n)=>{const{currentPrice:i=100,originalPrice:a=null}=t||{},r=parseInt(i)||100,s=a||r;(0,o.set)(e,[...n.path,1,"currentPrice"],r),(0,o.set)(e,[...n.path,1,"originalPrice"],s)}};function ye(e){return Array.isArray?Array.isArray(e):"[object Array]"===Ce(e)}function ke(e){return"string"==typeof e}function we(e){return"number"==typeof e}function ve(e){return"object"==typeof e}function xe(e){return null!=e}function _e(e){return!e.trim().length}function Ce(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const je=e=>`Missing ${e} property in key`,Se=e=>`Property 'weight' in key '${e}' must be a positive integer`,Ie=Object.prototype.hasOwnProperty;class Pe{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let n=Oe(e);t+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight})),this._keys.forEach((e=>{e.weight/=t}))}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Oe(e){let t=null,n=null,i=null,a=1,r=null;if(ke(e)||ye(e))i=e,t=Ee(e),n=Me(e);else{if(!Ie.call(e,"name"))throw new Error(je("name"));const o=e.name;if(i=o,Ie.call(e,"weight")&&(a=e.weight,a<=0))throw new Error(Se(o));t=Ee(o),n=Me(o),r=e.getFn}return{path:t,id:n,weight:a,src:i,getFn:r}}function Ee(e){return ye(e)?e:e.split(".")}function Me(e){return ye(e)?e.join("."):e}var Ae={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,useExtendedSearch:!1,getFn:function(e,t){let n=[],i=!1;const a=(e,t,r)=>{if(xe(e))if(t[r]){const o=e[t[r]];if(!xe(o))return;if(r===t.length-1&&(ke(o)||we(o)||function(e){return!0===e||!1===e||function(e){return ve(e)&&null!==e}(e)&&"[object Boolean]"==Ce(e)}(o)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(o));else if(ye(o)){i=!0;for(let e=0,n=o.length;e<n;e+=1)a(o[e],t,r+1)}else t.length&&a(o,t,r+1)}else n.push(e)};return a(e,ke(t)?t.split("."):t,0),i?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};const Te=/[^ ]+/g;class Ne{constructor({getFn:e=Ae.getFn,fieldNormWeight:t=Ae.fieldNormWeight}={}){this.norm=function(e=1,t=3){const n=new Map,i=Math.pow(10,t);return{get(t){const a=t.match(Te).length;if(n.has(a))return n.get(a);const r=1/Math.pow(a,.5*e),o=parseFloat(Math.round(r*i)/i);return n.set(a,o),o},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,ke(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();ke(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!xe(e)||_e(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach(((t,i)=>{let a=t.getFn?t.getFn(e):this.getFn(e,t.path);if(xe(a))if(ye(a)){let e=[];const t=[{nestedArrIndex:-1,value:a}];for(;t.length;){const{nestedArrIndex:n,value:i}=t.pop();if(xe(i))if(ke(i)&&!_e(i)){let t={v:i,i:n,n:this.norm.get(i)};e.push(t)}else ye(i)&&i.forEach(((e,n)=>{t.push({nestedArrIndex:n,value:e})}))}n.$[i]=e}else if(ke(a)&&!_e(a)){let e={v:a,n:this.norm.get(a)};n.$[i]=e}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function Le(e,t,{getFn:n=Ae.getFn,fieldNormWeight:i=Ae.fieldNormWeight}={}){const a=new Ne({getFn:n,fieldNormWeight:i});return a.setKeys(e.map(Oe)),a.setSources(t),a.create(),a}function ze(e,{errors:t=0,currentLocation:n=0,expectedLocation:i=0,distance:a=Ae.distance,ignoreLocation:r=Ae.ignoreLocation}={}){const o=t/e.length;if(r)return o;const s=Math.abs(i-n);return a?o+s/a:s?1:o}const Re=32;function Fe(e){let t={};for(let n=0,i=e.length;n<i;n+=1){const a=e.charAt(n);t[a]=(t[a]||0)|1<<i-n-1}return t}class De{constructor(e,{location:t=Ae.location,threshold:n=Ae.threshold,distance:i=Ae.distance,includeMatches:a=Ae.includeMatches,findAllMatches:r=Ae.findAllMatches,minMatchCharLength:o=Ae.minMatchCharLength,isCaseSensitive:s=Ae.isCaseSensitive,ignoreLocation:l=Ae.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:i,includeMatches:a,findAllMatches:r,minMatchCharLength:o,isCaseSensitive:s,ignoreLocation:l},this.pattern=s?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(e,t)=>{this.chunks.push({pattern:e,alphabet:Fe(e),startIndex:t})},u=this.pattern.length;if(u>Re){let e=0;const t=u%Re,n=u-t;for(;e<n;)c(this.pattern.substr(e,Re),e),e+=Re;if(t){const e=u-Re;c(this.pattern.substr(e),e)}}else c(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}const{location:i,distance:a,threshold:r,findAllMatches:o,minMatchCharLength:s,ignoreLocation:l}=this.options;let c=[],u=0,d=!1;this.chunks.forEach((({pattern:t,alphabet:p,startIndex:h})=>{const{isMatch:f,score:g,indices:m}=function(e,t,n,{location:i=Ae.location,distance:a=Ae.distance,threshold:r=Ae.threshold,findAllMatches:o=Ae.findAllMatches,minMatchCharLength:s=Ae.minMatchCharLength,includeMatches:l=Ae.includeMatches,ignoreLocation:c=Ae.ignoreLocation}={}){if(t.length>Re)throw new Error("Pattern length exceeds max of 32.");const u=t.length,d=e.length,p=Math.max(0,Math.min(i,d));let h=r,f=p;const g=s>1||l,m=g?Array(d):[];let b;for(;(b=e.indexOf(t,f))>-1;){let e=ze(t,{currentLocation:b,expectedLocation:p,distance:a,ignoreLocation:c});if(h=Math.min(e,h),f=b+u,g){let e=0;for(;e<u;)m[b+e]=1,e+=1}}f=-1;let y=[],k=1,w=u+d;const v=1<<u-1;for(let i=0;i<u;i+=1){let r=0,s=w;for(;r<s;)ze(t,{errors:i,currentLocation:p+s,expectedLocation:p,distance:a,ignoreLocation:c})<=h?r=s:w=s,s=Math.floor((w-r)/2+r);w=s;let l=Math.max(1,p-s+1),b=o?d:Math.min(p+s,d)+u,x=Array(b+2);x[b+1]=(1<<i)-1;for(let r=b;r>=l;r-=1){let o=r-1,s=n[e.charAt(o)];if(g&&(m[o]=+!!s),x[r]=(x[r+1]<<1|1)&s,i&&(x[r]|=(y[r+1]|y[r])<<1|1|y[r+1]),x[r]&v&&(k=ze(t,{errors:i,currentLocation:o,expectedLocation:p,distance:a,ignoreLocation:c}),k<=h)){if(h=k,f=o,f<=p)break;l=Math.max(1,2*p-f)}}if(ze(t,{errors:i+1,currentLocation:p,expectedLocation:p,distance:a,ignoreLocation:c})>h)break;y=x}const x={isMatch:f>=0,score:Math.max(.001,k)};if(g){const e=function(e=[],t=Ae.minMatchCharLength){let n=[],i=-1,a=-1,r=0;for(let o=e.length;r<o;r+=1){let o=e[r];o&&-1===i?i=r:o||-1===i||(a=r-1,a-i+1>=t&&n.push([i,a]),i=-1)}return e[r-1]&&r-i>=t&&n.push([i,r-1]),n}(m,s);e.length?l&&(x.indices=e):x.isMatch=!1}return x}(e,t,p,{location:i+h,distance:a,threshold:r,findAllMatches:o,minMatchCharLength:s,includeMatches:n,ignoreLocation:l});f&&(d=!0),u+=g,f&&m&&(c=[...c,...m])}));let p={isMatch:d,score:d?u/this.chunks.length:1};return d&&n&&(p.indices=c),p}}class Be{constructor(e){this.pattern=e}static isMultiMatch(e){return We(e,this.multiRegex)}static isSingleMatch(e){return We(e,this.singleRegex)}search(){}}function We(e,t){const n=e.match(t);return n?n[1]:null}class Ve extends Be{constructor(e,{location:t=Ae.location,threshold:n=Ae.threshold,distance:i=Ae.distance,includeMatches:a=Ae.includeMatches,findAllMatches:r=Ae.findAllMatches,minMatchCharLength:o=Ae.minMatchCharLength,isCaseSensitive:s=Ae.isCaseSensitive,ignoreLocation:l=Ae.ignoreLocation}={}){super(e),this._bitapSearch=new De(e,{location:t,threshold:n,distance:i,includeMatches:a,findAllMatches:r,minMatchCharLength:o,isCaseSensitive:s,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class $e extends Be{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const i=[],a=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+a,i.push([t,n-1]);const r=!!i.length;return{isMatch:r,score:r?0:1,indices:i}}}const Ue=[class extends Be{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},$e,class extends Be{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends Be{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends Be{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends Be{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends Be{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},Ve],Ge=Ue.length,He=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Ye=new Set([Ve.type,$e.type]);const Ke=[];function qe(e,t){for(let n=0,i=Ke.length;n<i;n+=1){let i=Ke[n];if(i.condition(e,t))return new i(e,t)}return new De(e,t)}const Xe="$and",Qe="$path",Je=e=>!(!e[Xe]&&!e.$or),Ze=e=>({[Xe]:Object.keys(e).map((t=>({[t]:e[t]})))});function et(e,t,{auto:n=!0}={}){const i=e=>{let a=Object.keys(e);const r=(e=>!!e[Qe])(e);if(!r&&a.length>1&&!Je(e))return i(Ze(e));if((e=>!ye(e)&&ve(e)&&!Je(e))(e)){const i=r?e[Qe]:a[0],o=r?e.$val:e[i];if(!ke(o))throw new Error((e=>`Invalid value for key ${e}`)(i));const s={keyId:Me(i),pattern:o};return n&&(s.searcher=qe(o,t)),s}let o={children:[],operator:a[0]};return a.forEach((t=>{const n=e[t];ye(n)&&n.forEach((e=>{o.children.push(i(e))}))})),o};return Je(e)||(e=Ze(e)),i(e)}function tt(e,t){const n=e.matches;t.matches=[],xe(n)&&n.forEach((e=>{if(!xe(e.indices)||!e.indices.length)return;const{indices:n,value:i}=e;let a={indices:n,value:i};e.key&&(a.key=e.key.src),e.idx>-1&&(a.refIndex=e.idx),t.matches.push(a)}))}function nt(e,t){t.score=e.score}class it{constructor(e,t={},n){this.options={...Ae,...t},this.options.useExtendedSearch,this._keyStore=new Pe(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof Ne))throw new Error("Incorrect 'index' type");this._myIndex=t||Le(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){xe(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=(()=>!1)){const t=[];for(let n=0,i=this._docs.length;n<i;n+=1){const a=this._docs[n];e(a,n)&&(this.removeAt(n),n-=1,i-=1,t.push(a))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:i,shouldSort:a,sortFn:r,ignoreFieldNorm:o}=this.options;let s=ke(e)?ke(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=Ae.ignoreFieldNorm}){e.forEach((e=>{let n=1;e.matches.forEach((({key:e,norm:i,score:a})=>{const r=e?e.weight:null;n*=Math.pow(0===a&&r?Number.EPSILON:a,(r||1)*(t?1:i))})),e.score=n}))}(s,{ignoreFieldNorm:o}),a&&s.sort(r),we(t)&&t>-1&&(s=s.slice(0,t)),function(e,t,{includeMatches:n=Ae.includeMatches,includeScore:i=Ae.includeScore}={}){const a=[];return n&&a.push(tt),i&&a.push(nt),e.map((e=>{const{idx:n}=e,i={item:t[n],refIndex:n};return a.length&&a.forEach((t=>{t(e,i)})),i}))}(s,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(e){const t=qe(e,this.options),{records:n}=this._myIndex,i=[];return n.forEach((({v:e,i:n,n:a})=>{if(!xe(e))return;const{isMatch:r,score:o,indices:s}=t.searchIn(e);r&&i.push({item:e,idx:n,matches:[{score:o,value:e,norm:a,indices:s}]})})),i}_searchLogical(e){const t=et(e,this.options),n=(e,t,i)=>{if(!e.children){const{keyId:n,searcher:a}=e,r=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:a});return r&&r.length?[{idx:i,item:t,matches:r}]:[]}const a=[];for(let r=0,o=e.children.length;r<o;r+=1){const o=e.children[r],s=n(o,t,i);if(s.length)a.push(...s);else if(e.operator===Xe)return[]}return a},i=this._myIndex.records,a={},r=[];return i.forEach((({$:e,i})=>{if(xe(e)){let o=n(t,e,i);o.length&&(a[i]||(a[i]={idx:i,item:e,matches:[]},r.push(a[i])),o.forEach((({matches:e})=>{a[i].matches.push(...e)})))}})),r}_searchObjectList(e){const t=qe(e,this.options),{keys:n,records:i}=this._myIndex,a=[];return i.forEach((({$:e,i})=>{if(!xe(e))return;let r=[];n.forEach(((n,i)=>{r.push(...this._findMatches({key:n,value:e[i],searcher:t}))})),r.length&&a.push({idx:i,item:e,matches:r})})),a}_findMatches({key:e,value:t,searcher:n}){if(!xe(t))return[];let i=[];if(ye(t))t.forEach((({v:t,i:a,n:r})=>{if(!xe(t))return;const{isMatch:o,score:s,indices:l}=n.searchIn(t);o&&i.push({score:s,key:e,value:t,idx:a,norm:r,indices:l})}));else{const{v:a,n:r}=t,{isMatch:o,score:s,indices:l}=n.searchIn(a);o&&i.push({score:s,key:e,value:a,norm:r,indices:l})}return i}}it.version="6.6.2",it.createIndex=Le,it.parseIndex=function(e,{getFn:t=Ae.getFn,fieldNormWeight:n=Ae.fieldNormWeight}={}){const{keys:i,records:a}=e,r=new Ne({getFn:t,fieldNormWeight:n});return r.setKeys(i),r.setIndexRecords(a),r},it.config=Ae,it.parseQuery=et,function(...e){Ke.push(...e)}(class{constructor(e,{isCaseSensitive:t=Ae.isCaseSensitive,includeMatches:n=Ae.includeMatches,minMatchCharLength:i=Ae.minMatchCharLength,ignoreLocation:a=Ae.ignoreLocation,findAllMatches:r=Ae.findAllMatches,location:o=Ae.location,threshold:s=Ae.threshold,distance:l=Ae.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:i,findAllMatches:r,ignoreLocation:a,location:o,threshold:s,distance:l},this.pattern=t?e:e.toLowerCase(),this.query=function(e,t={}){return e.split("|").map((e=>{let n=e.trim().split(He).filter((e=>e&&!!e.trim())),i=[];for(let e=0,a=n.length;e<a;e+=1){const a=n[e];let r=!1,o=-1;for(;!r&&++o<Ge;){const e=Ue[o];let n=e.isMultiMatch(a);n&&(i.push(new e(n,t)),r=!0)}if(!r)for(o=-1;++o<Ge;){const e=Ue[o];let n=e.isSingleMatch(a);if(n){i.push(new e(n,t));break}}}return i}))}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:i}=this.options;e=i?e:e.toLowerCase();let a=0,r=[],o=0;for(let i=0,s=t.length;i<s;i+=1){const s=t[i];r.length=0,a=0;for(let t=0,i=s.length;t<i;t+=1){const i=s[t],{isMatch:l,indices:c,score:u}=i.search(e);if(!l){o=0,a=0,r.length=0;break}if(a+=1,o+=u,n){const e=i.constructor.type;Ye.has(e)?r=[...r,...c]:r.push(c)}}if(a){let e={isMatch:!0,score:o/a};return n&&(e.indices=r),e}}return{isMatch:!1,score:1}}});const at=e=>{const t="/",n=`font-awesome${t}`;return e&&e.includes(t)?e.split(t)[0]+t:n},rt=(e,t)=>{e=e.replace("/","");const n={"font-awesome":["check","star","compass","bell","cog"],ionicons:["checkmark","star","compass","ios-bell","ios-cog"],"icons8-line-awesome":["check","star","compass","bell","cog"],"foundation-icons":["check","star","compass"],"material-icons":["check","star"],"simple-line-icons":["check","star","compass","bell"],typicons:["input-checked-outline","star","compass","bell","cog"],linea:["arrows_check","basic_star","basic_compass","music_bell"]};if(n.hasOwnProperty(e)){const i=n[e].filter((n=>!t.includes(`${e}/${n}`)));let a=(0,o.sample)(i);return a||(a=(0,o.sample)(n[e])),a}return n.fa[0]},ot=(e,t)=>`${e}${t}`,st=new Map;let lt={};const ct=new Set;let ut=!0;const dt=()=>{ut&&(ut=!1,lt={});const e="session-"+ct.size;return ct.add(e),()=>{ct.delete(e),0===ct.size&&(ut=!0,lt={})}},pt=(e,t)=>{ut?I.Log.error("Generation session is not started"):(0,o.set)(lt,e,t)},ht=(e,t)=>ut?(I.Log.error("Generation session is not started"),t):(0,o.get)(lt,e,t),ft=window.kubio.blockLibrary,{VIDEO:gt,DOWN_ARROW:mt}=(0,ft.getNamesOfBlocks)(),bt={blocks:["kubio/icon"],elements:["icon"],transform:({block:[,e],path:t,addColumnElement:n})=>{n({name:"icon",currentIcon:e.name,path:t})},setter:async(e,t,n,i)=>{const a=M(e,n.path);if(a.includes(gt)||a.includes(mt))return;const r=t||"",{sectionHash:l}=i,u=ht("previousIcons",new Map),d=u.get(l)||[],{columnContext:{is_slider:p=!1},currentIcon:h=""}=n||{};if(!p&&!["hero","pricing","testimonials"].includes(s().get(e,"[1].kubioAI.meta.category"))){let t=!1;const i=r.split(",").map((e=>e.replace("fa-","").trim())).map((e=>e.includes("-")?e.split("-").shift():e));t=i.length?((e,t,n=[])=>{const i=at(t);let a=st.has(i)?st.get(i):null;if(!a){const e=(e=>Object.keys(c.svgIcons).filter((t=>t.includes(e))).map((t=>t.replace(e,""))).filter((e=>e.length>2)))(i);a=new it(e,{threshold:.5,location:0,distance:1,includeScore:!0}),st.set(i,a)}const r=[];for(let t=0;t<e.length;t++){const o=a.search(e[t]);o.length>0&&!n.includes(`${i}${o[0].item}`)&&r.push(o[0])}if(r.length>0){const e=r.reduce((function(e,t){return e&&e.score<t.score?e:t}));return ot(i,e.item)}return ot(i,rt(i,n))})(i,h,d):((e,t=[])=>{const n=at(e),i=rt(n,t);return ot(n,i)})(h,d),(0,o.set)(e,[...n.path,1,"name"],t),d.push(t),u.set(l,d),pt("previousIcons",u)}}},yt=[me,be,bt].filter(Boolean),kt=({attributes:e,path:t,addColumnElement:n,descendant:i,newColumn:a=o.noop}={})=>{const r=["kubio","style","descendants",i,"background"],s=(0,o.get)(e,[...r,"type"]);if(["image","slideshow","video"].includes(s)&&a(),"image"===s&&n({name:"backgroundImage",path:t,attributePath:[...r,"image","0","source","url"]}),"slideshow"===s){const i=(0,o.get)(e,[...r,"slideshow","slides"],Array.from({length:3})).length;for(let e=0;e<i;e++)n({name:"backgroundSlideshow",path:t,attributePath:[...r,"slideshow","slides",e,"url"]})}"video"===s&&n({name:"backgroundVideo",path:t,attributePath:[...r,"video"]})},wt=[{blocks:["kubio/section","kubio/hero","kubio/navigation","kubio/navigation-section","kubio/navigation-top-bar"],transform:({block:[,e],path:t,newColumn:n,addColumnElement:i})=>{kt({attributes:e,path:t,addColumnElement:i,newColumn:n,descendant:"outer"})}},{blocks:["kubio/row"],transform:({block:[,e,t],context:n,path:i,addColumnElement:a,newColumn:r})=>{n.section_header=(0,o.get)(e,"kubio.props.meta.isHeader",!1),2===i.length&&(n.list_items=(0,o.get)(e,"kubio.props.layout.equalWidth")&&t.length>1),kt({attributes:e,path:i,addColumnElement:a,newColumn:r,descendant:"container"}),n.section_header&&r()}},{blocks:["kubio/column","kubio/pricing-table-item","kubio/slider-item","kubio/carousel-item","kubio/navigation-top-bar","kubio/navigation-items","kubio/navigation-sticky-items","kubio/flipbox","kubio/flipboxcontent","kubio/flipboxhover"],transform:({block:[e,t],path:n,newColumn:i,addColumnElement:a,context:r})=>{let s="inner";switch(e){case"kubio/column":const l=r.isTemplatePart?5:4;n.length!==l||r.section_header||i({short_desc:(0,o.get)(t,["kubioAI","desc"],null)});break;case"kubio/pricing-table-item":case"kubio/slider-item":case"kubio/carousel-item":i({is_pricing:"kubio/pricing-table-item"===e,is_slider:"kubio/slider-item"===e||"kubio/carousel-item"===e,list_items:!0});break;case"kubio/flipbox":return i({flipbox:!0}),kt({attributes:t,path:n,addColumnElement:a,descendant:"container"}),kt({attributes:t,path:n,addColumnElement:a,descendant:"normal"}),void kt({attributes:t,path:n,addColumnElement:a,descendant:"hover"});case"kubio/flipboxcontent":case"kubio/flipboxhover":s="container";break;default:i()}kt({attributes:t,path:n,addColumnElement:a,descendant:s})}},{blocks:["kubio/heading","kubio/text"],transform:({block:[e,t],path:n,addColumnElement:i,includeContent:a})=>{const r={name:"kubio/heading"===e?"heading":"paragraph",path:n,attributePath:["content"],words:P(t,"content"),chars:O(t,"content")};"kubio/heading"===e&&(r.level=(0,o.get)(t,"kubio.props.level",2)),!0===a&&(r.text=t.content||""),i(r)}},{blocks:["kubio/button","kubio/link"],transform:({block:[,e],path:t,addColumnElement:n,includeContent:i})=>{const a={name:"button",path:t,attributePath:["text"]};!0===i&&(a.text=e.content||""),n(a)}},{blocks:["kubio/multipleimagespicture","kubio/image"],transform:({path:e,addColumnElement:t})=>{t({name:"image",path:e,attributePath:["url"]})}},{blocks:["kubio/tabitem","kubio/accordionitem"],walkChildren:!1,transform:({block:[,e,t],path:n,addColumnElement:i,context:a,includeContent:r})=>{i({name:"question",path:n,attributePath:["title"],words:P(e,"title"),chars:O(e,"title")});let s=t[0];if(s){var l;const e=[],t=t=>e.push(t);null===(l=xt(s[0]))||void 0===l||l.transform({block:s,path:[...n,2,0],context:a,addColumnElement:t,includeContent:r}),s=e[0],(0,o.isEmpty)(s)||i({...e[0],name:"answer"})}}},{blocks:["kubio/counter"],transform:({block:[,e],path:t,addColumnElement:n})=>{n({name:"counter",path:t,attributePath:[],words:P(e,"title"),chars:O(e,"title")})}},{blocks:["kubio/iconlistitem"],transform:({block:[,e],path:t,addColumnElement:n})=>{const i=P(e,"text");i&&n({name:"list-item",path:t,attributePath:["text"],words:i})}},{blocks:["kubio/video"],transform:({path:e,addColumnElement:t})=>{t({name:"video",path:e,attributePath:["internalUrl"]})}}],vt=[{elements:["image","backgroundImage","backgroundSlideshow"],setter:async(e,t,n,{siteContext:i,pageContext:a,sectionCategory:r}={})=>{const s=[...n.path,1,...n.attributePath];if(!(t=(0,o.isString)(t)?t.toLowerCase().replace(/\W+/g," ").replace(/\s+/g," "):null))return;t=(0,o.first)(t.split(",").map((e=>e.trim().toLowerCase())));const l=(0,o.get)(e,s,""),c=[...n.path,1,"kubioAI"];if("backgroundSlideshow"===n.name){const n=(0,o.get)(e,[...c,"slideshowTerms"],[]);(0,o.set)(e,[...c,"slideshowTerms"],[...n,t])}else(0,o.set)(e,[...c,"imageTerms"],t);try{const i=ht("previousQueries",new Map);let a=null;var u;i.has(t)?(a=i.get(t),I.Log.info(`Using cached image searches for "${t}"`)):(a=await ae({search:t,initialImage:l,mediaAttrs:["id"],perPage:30,crop:null==n||null===(u=n.columnContext)||void 0===u?void 0:u.list_items}),i.set(t,a),pt("previousQueries",i));const r=ht("images",[]);let c=(a.items||[]).filter((e=>!r.includes(e.id)));c.length||(c=a.items||[]);const d=(0,o.first)(c);d&&(pt("images",[...r,d.id]),(0,o.set)(e,s,d.url))}catch(e){I.Log.error("Template element image setter",e)}}},{elements:["counter"],setter:async(e,t,n)=>{const{title:i=null,maxValue:a=null}=t||{};i&&(0,o.set)(e,[...n.path,1,"title"],i),a&&((0,o.set)(e,[...n.path,1,"amount"],a),(0,o.set)(e,[...n.path,1,"final"],a))}},{elements:["video","backgroundVideo"],setter:async(e,t,n)=>{try{var i;const a=await re({search:t,perPage:1}),{video:s=null,poster:l=null}=(null==a||null===(i=a.items)||void 0===i?void 0:i[0])||{};if(s){let t=null;"video"===n.name&&(t=["internalUrl"],(0,o.set)(e,[...n.path,1,"videoCategory"],"internal"),(0,o.set)(e,[...n.path,1,...t],(0,r.addQueryArgs)(s,{_k_ext_fields:".mp4"}))),"backgroundVideo"===n.name&&(t=[...n.attributePath,"internal"],(0,o.set)(e,[...n.path,1,,...n.attributePath,"type"],"internal"),(0,o.set)(e,[...n.path,1,...t],{url:(0,r.addQueryArgs)(s,{_k_ext_fields:".mp4"})}))}if(l){let t=null;"video"===n.name&&(t=["posterImage"],(0,o.set)(e,[...n.path,1,...t],{url:l})),"backgroundVideo"===n.name&&(t=[...n.attributePath,"poster"],(0,o.set)(e,[...n.path,1,...t],{url:l}))}}catch(e){I.Log.error("Template element video setter",e)}}}],xt=e=>{for(let t=0;t<wt.length;t++)if(wt[t].blocks.includes(e))return wt[t];for(let t=0;t<yt.length;t++)if(yt[t].blocks.includes(e))return yt[t]};function _t(e,t,n=[]){const[i,,a=[]]=e;t(e,n),(0,o.get)(xt(i),"walkChildren",!0)&&a.forEach(((e,i)=>{_t(e,t,[...n,2,i])}))}const Ct=(e,t,{includeContent:n=!1}={})=>{const i=["kubio/header","kubio/sidebar","kubio/footer"].includes(e[0]),a=[],r={sectionCategory:t,includeContent:n,isTemplatePart:i},s=(e={})=>a.push({context:(0,o.merge)((0,o.cloneDeep)(r),e),elements:[],type:"column"});return _t(e,(function(t,i){var l;const[c,u]=t;null===(l=xt(c))||void 0===l||l.transform({block:t,path:i,context:r,newColumn:s,addColumnElement:t=>(t=>{try{a[a.length-1].elements.push({id:(n=t,(n.name||"el")+"-"+U()()+"-"+U()()),...t})}catch(n){I.Log.error("Kubio AI: Error element to column",n,[e,t])}var n})({...t,short_desc:(0,o.get)(u,["kubioAI","desc"],null)}),includeContent:n})})),a.filter((e=>e.elements.length))},jt=["hero-accent","about","content","features","counters","photo-gallery","portfolio","pricing","testimonials","clients","team","cta","f.a.q.","blog","contact"],St={homepage:["hero-accent","about","content","features","counters","photo-gallery","portfolio","pricing","testimonials","clients","team","cta","f.a.q.","blog","contact"],general:["about","content","features","counters","photo-gallery","testimonials","clients","cta"],about:["about","content","features","counters","photo-gallery","clients","testimonials","team","cta"],services:["about","content","features","counters","photo-gallery","testimonials","clients","cta","f.a.q.","contact"],features:["about","content","features","counters","photo-gallery","testimonials","clients","cta","f.a.q."],portfolio:["portfolio","clients","cta"],team:["team","cta"],gallery:["photo-gallery","cta"],faq:["f.a.q.","cta"],pricing:["about","pricing","testimonials"],contact:["contact-info","contact-map","contact-form"]},It=["homepage","portfolio","team","gallery","faq","pricing","contact"],Pt={general:[],services:['Each service offered by the business will be placed in a separate "content" section.']},Ot=(0,ft.getNamesOfBlocks)(),Et=async({pageTitle:e,siteContext:t,pageContext:n,rules:i=[]})=>{let a=(null==n?void 0:n.purpose)||"general";null!=n&&n.isFrontPage&&(a="homepage");let r=[];r=(St[a]||jt).filter((e=>!!N(`kubio-content/${e}`))),r=r.filter((e=>{switch(e){case"clients":if("people"===t.clientType||"individual"===t.clientType)return!1;break;case"team":if("individual"===t.ownerType)return!1;break;default:return!0}return!0})),i.length||(i=Pt[a]||[]);const s=await J({pageTitle:e,siteContext:t,pageContext:{...n,sortSections:n.hasOwnProperty("sortSections")?n.sortSections:It.includes(a)},allowedSections:r,rules:i});if(r.includes("cta")&&!(0,o.find)(s,{category:"cta"})){let e=null;if(r.forEach(((t,n)=>{n+1<r.length&&"cta"===r[n+1]&&(e=t)})),e){const n=(0,o.findLastIndex)(s,{category:e});n>-1&&s.splice(n+1,0,{category:"cta",summaries:[(0,o.get)(t,"cta.text","")]})}}return s},Mt=(e=null,n=!0,{tag:i=[],skipSlugs:a=[]}={})=>{let r=e,l=[],u=null,d=null,p=null,h=!1;const f=n?c.FRONT_HEADERS_CATEGORY:c.INNER_HEADERS_CATEGORY;if(!r){const e=N(f,{tag:i,skipSlugs:a});if(!e)return null;p=e.name,h=[...e.publicTags||[],...e.internalTags||[]].includes("overlappable"),d=e.pairCloudPresetId,r=(0,o.get)(e,["content"]);const t=(0,o.get)(e,["context","theme","colors"],null);u=(0,o.cloneDeep)((0,o.get)(e,["context","theme","globalStyle","style","descendants","body"],null)),s().unset(u,["typography","holders","input"]),l=t?(0,o.map)(t,(e=>e)):t}const g=r[2],m=(0,o.cloneDeep)(g.find((e=>e[0]===Ot.NAVIGATION))),b=(0,o.cloneDeep)(g.find((e=>e[0]===Ot.HERO)));m&&((0,o.set)(m,[1,"attrs","name"],(0,t.__)("Navigation","kubio")),(0,o.set)(m,[1,"anchor"],"navigation")),b&&((0,o.set)(b,[1,"attrs","name"],(0,t.__)("Hero","kubio")),(0,o.set)(b,[1,"anchor"],"hero"));let y=null;var k;return d&&(y=N(n?c.INNER_HEADERS_CATEGORY:c.FRONT_HEADERS_CATEGORY,{findBy:{cloudPresetId:d}}),y=(null===(k=y)||void 0===k?void 0:k.content)||null),{category:f,navigation:m,hero:b,colors:l,bodyStyle:u,pairTemplate:y,pairCloudPresetId:d,name:p,overlappable:h}},At=({tags:e=[]}={})=>{const t=N(c.FOOTER_CATEGORY,{tags:e});return t?t.content:null},Tt=(e,t)=>({cloudPresetId:e.cloudPresetId,category:t,template:e.content,title:e.title,slug:(0,j.getSectionSlugFromPattern)(e),pairCloudPresetId:e.pairCloudPresetId,name:e.name,internalTags:e.internalTags,publicTags:e.publicTags}),Nt=({category:e="section",siteContext:t=null,findBy:n=null,tags:i=[],skippableTags:a=[],excludeWithTags:r=[],skipIds:o=[],returnAll:l=!1})=>{const c=[...i,s().get(t,"sections_tag")],u=N("section"===e?"*":`kubio-content/${e}`,{tag:c,findBy:n,skippableTags:a,excludeWithTags:r,skipIds:o,returnAll:l});return l?u.map((t=>Tt(t,e))):u?Tt(u,e):null},Lt=e=>"content"===e.category||!![...e.internalTags,...e.publicTags].includes("dedicated-page"),zt=(e,t,n=null)=>{const i={},a=[];for(let r=0;r<e.length;r++){const{category:s,summaries:l}=e[r],c=(0,o.get)(i,[s],{count:0,pair:null});let u=null;if(null!==c.pair){const e=c.count%c.pair.length;u={cloudPresetId:c.pair[e]}}const d=Nt({category:s,siteContext:t,findBy:u,tags:z([],s,n),skippableTags:z([],s,n),excludeWithTags:R(s,n)});if(!d)continue;const p=e.reduce(((e,t,n)=>(t.category===s&&e.push(n),e)),[]),h=l[p.indexOf(r)%l.length]||"";d.pairCloudPresetId&&Lt(d)&&1===p.length&&e.splice(r+1,0,{category:s,summaries:l.filter((e=>e!==h))}),a.push({...d,summaries:[h]});let f=c.pair;!f&&d.pairCloudPresetId&&(f=[d.cloudPresetId,d.pairCloudPresetId]),(0,o.set)(i,[s],{count:f?c.count+1:0,pair:f})}return a},Rt=async({pageTitle:e,siteContext:t,pageContext:n})=>{const i=await Et({pageTitle:e,siteContext:t,pageContext:n}),a=function(e,t=null,n=null){const i=[],a=s().get(t,"sections_tag");return n.isFrontPage,e.filter((e=>e.template)).forEach((e=>{var t,r,o,s,l,c;i.push({...e,summary:(null===(t=e.summaries||[])||void 0===t||null===(r=t.pop)||void 0===r?void 0:r.call(t))||""});const u=1===i.length&&L(i[0].template[1]),d=i.length>=2&&L(null===(o=i.at(-1))||void 0===o||null===(s=o.template)||void 0===s?void 0:s[1])&&L(null===(l=i.at(-2))||void 0===l||null===(c=l.template)||void 0===c?void 0:c[1]);if(u||d){i.pop();const t=N("kubio-content/"+e.category,{exclude:[e.slug],excludeSectionWithBackground:!0,tag:z(a,e.category,n),excludeWithTags:R(e.category,n),skippableTags:z([],e.category,n)});var p,h;t&&i.push({...e,category:e.category,template:t.content,title:t.title,name:t.name,summary:(null===(p=e.summaries||[])||void 0===p||null===(h=p.pop)||void 0===h?void 0:h.call(p))||""})}})),i.map((({summaries:e,...t})=>t))}(zt(i,t,n),t,n).filter(Boolean);return a},Ft=async(e,t,n,i={})=>{const a=(e=>{for(let n=0;n<vt.length;n++){var t;if(vt[n].elements.includes(e))return null===(t=vt[n])||void 0===t?void 0:t.setter}for(let t=0;t<yt.length;t++){var n;if(yt[t].elements.includes(e))return null===(n=yt[t])||void 0===n?void 0:n.setter}})(n.name);a?await a(e,t,n,i):t&&(e=(0,o.set)(e,[...n.path,1,...n.attributePath],t));const r=["words","chars"];for(const t of r)n.hasOwnProperty(t)&&(e=(0,o.set)(e,[...n.path,1,"kubioAI","meta","initialValues",t],n[t]));return t},Dt=async({structure:t,label:n,anchor:i,data:a,sectionTemplate:r,category:s,summary:l="",siteContext:c,pageContext:u})=>{const d=[],p=(e=>{const t={};return e.forEach((e=>{e.elements.forEach((n=>{t[n.id]={...n,columnContext:e.context}}))})),t})(t),h=[],f=U().generate();try{for(let e=0;e<a.length;e++){const t=a[e],n=p[t.id];n&&(d.push(Ft(r,t.content,n,{siteContext:c,pageContext:u,sectionCategory:s,sectionHash:f})),h.push({name:n.name,structure:n,content:t.content}))}await Promise.all(d),(0,o.set)(r,[1,"kubioAI","meta","category"],E(s,!0)),(0,o.set)(r,[1,"kubioAI","meta","summary"],l)}catch(e){throw I.Log.error("Error in filling section with data",{category:s,template:r,elements:p}),e}return(0,o.set)(r,[1,"attrs","name"],n),(0,o.set)(r,[1,"anchor"],i),[(0,e.refreshBlockStyleRefs)(r),h]},Bt=(e,t)=>{var n;const i=[];var a;return"cta"===e&&null!=t&&null!==(n=t.cta)&&void 0!==n&&n.text&&i.push(`For the main header in the section use the following content, translated in the site language: "${null==t||null===(a=t.cta)||void 0===a?void 0:a.text}"`),i},Wt=async({template:e,category:t,pageTitle:n,siteContext:i,pageContext:a,summary:r="",label:s="",anchor:l="",includeContent:c=!1}={})=>{const u=(0,o.cloneDeep)(e),d=Ct(u,t,{includeContent:c});if((0,o.isEmpty)(d))return[u,[]];const p=await ne({category:t,structure:d,pageTitle:n,siteContext:i,pageContext:a,summary:r,rules:Bt(t,i)});return await Dt({structure:d,label:s,anchor:l,data:p,sectionTemplate:u,category:t,summary:r,siteContext:i,pageContext:a})},Vt=async({template:e,category:t,pageTitle:n,siteContext:i,pageContext:a,summary:r="",label:s="",anchor:l="",includeContent:c=!1}={})=>{const u=(0,o.cloneDeep)(e),d=Ct(u,t,{includeContent:c}),p=await ie({category:t,structure:d,pageTitle:n,siteContext:i,pageContext:a,summary:r,rules:Bt(t,i)});return await Dt({structure:d,label:s,anchor:l,data:p,sectionTemplate:u,category:t,summary:r,siteContext:i,pageContext:a})},$t=window.kubio.controls,Ut=window.kubio.icons,Gt=window.wp.components,Ht=window.wp.primitives,Yt=(0,m.jsx)(Ht.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,m.jsx)(Ht.Path,{d:"m13.06 12 6.47-6.47-1.06-1.06L12 10.94 5.53 4.47 4.47 5.53 10.94 12l-6.47 6.47 1.06 1.06L12 13.06l6.47 6.47 1.06-1.06L13.06 12Z"})});function Kt(e){return Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kt(e)}function qt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){Xt(e,t,n[t])}))}return e}function Jt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],_n=!0,i=!1,a=void 0;try{for(var r,o=e[Symbol.iterator]();!(_n=(r=o.next()).done)&&(n.push(r.value),!t||n.length!==t);_n=!0);}catch(e){i=!0,a=e}finally{try{_n||null==o.return||o.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Zt=function(){},en={},tn={},nn={mark:Zt,measure:Zt};try{"undefined"!=typeof window&&(en=window),"undefined"!=typeof document&&(tn=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&(nn=performance)}catch(e){}var an=(en.navigator||{}).userAgent,rn=void 0===an?"":an,on=en,sn=tn,ln=nn,cn=(on.document,!!sn.documentElement&&!!sn.head&&"function"==typeof sn.addEventListener&&"function"==typeof sn.createElement),un=(~rn.indexOf("MSIE")||rn.indexOf("Trident/"),"___FONT_AWESOME___"),dn="fa",pn="svg-inline--fa",hn=(function(){try{return!0}catch(e){return!1}}(),[1,2,3,4,5,6,7,8,9,10]),fn=hn.concat([11,12,13,14,15,16,17,18,19,20]),gn={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},mn=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",gn.GROUP,gn.SWAP_OPACITY,gn.PRIMARY,gn.SECONDARY].concat(hn.map((function(e){return"".concat(e,"x")}))).concat(fn.map((function(e){return"w-".concat(e)}))),on.FontAwesomeConfig||{});sn&&"function"==typeof sn.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=Jt(e,2),n=t[0],i=t[1],a=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=sn.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));null!=a&&(mn[i]=a)}));var bn=Qt({},{familyPrefix:dn,replacementClass:pn,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},mn);bn.autoReplaceSvg||(bn.observeMutations=!1);var yn=Qt({},bn);on.FontAwesomeConfig=yn;var kn=on||{};kn[un]||(kn[un]={}),kn[un].styles||(kn[un].styles={}),kn[un].hooks||(kn[un].hooks={}),kn[un].shims||(kn[un].shims=[]);var wn=kn[un],vn=[];cn&&((sn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(sn.readyState)||sn.addEventListener("DOMContentLoaded",(function e(){sn.removeEventListener("DOMContentLoaded",e),vn.map((function(e){return e()}))})));var xn,Cn="pending",jn="settled",Sn="fulfilled",In="rejected",Pn=function(){},On=void 0!==n.g&&void 0!==n.g.process&&"function"==typeof n.g.process.emit,En="undefined"==typeof setImmediate?setTimeout:setImmediate,Mn=[];function An(){for(var e=0;e<Mn.length;e++)Mn[e][0](Mn[e][1]);Mn=[],xn=!1}function Tn(e,t){Mn.push([e,t]),xn||(xn=!0,En(An,0))}function Nn(e){var t=e.owner,n=t._state,i=t._data,a=e[n],r=e.then;if("function"==typeof a){n=Sn;try{i=a(i)}catch(e){Fn(r,e)}}Ln(r,i)||(n===Sn&&zn(r,i),n===In&&Fn(r,i))}function Ln(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"==typeof t||"object"===Kt(t))){var i=t.then;if("function"==typeof i)return i.call(t,(function(i){n||(n=!0,t===i?Rn(e,i):zn(e,i))}),(function(t){n||(n=!0,Fn(e,t))})),!0}}catch(t){return n||Fn(e,t),!0}return!1}function zn(e,t){e!==t&&Ln(e,t)||Rn(e,t)}function Rn(e,t){e._state===Cn&&(e._state=jn,e._data=t,Tn(Bn,e))}function Fn(e,t){e._state===Cn&&(e._state=jn,e._data=t,Tn(Wn,e))}function Dn(e){e._then=e._then.forEach(Nn)}function Bn(e){e._state=Sn,Dn(e)}function Wn(e){e._state=In,Dn(e),!e._handled&&On&&n.g.process.emit("unhandledRejection",e._data,e)}function Vn(e){n.g.process.emit("rejectionHandled",e)}function $n(e){if("function"!=typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof $n==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(e,t){function n(e){Fn(t,e)}try{e((function(e){zn(t,e)}),n)}catch(e){n(e)}}(e,this)}$n.prototype={constructor:$n,_state:Cn,_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(Pn),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,this._state===In&&On&&Tn(Vn,this)),this._state===Sn||this._state===In?Tn(Nn,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},$n.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new $n((function(t,n){var i=[],a=0;function r(e){return a++,function(n){i[e]=n,--a||t(i)}}for(var o,s=0;s<e.length;s++)(o=e[s])&&"function"==typeof o.then?o.then(r(s),n):i[s]=o;a||t(i)}))},$n.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new $n((function(t,n){for(var i,a=0;a<e.length;a++)(i=e[a])&&"function"==typeof i.then?i.then(t,n):t(i)}))},$n.resolve=function(e){return e&&"object"===Kt(e)&&e.constructor===$n?e:new $n((function(t){t(e)}))},$n.reject=function(e){return new $n((function(t,n){n(e)}))};var Un={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};var Gn="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Hn(){for(var e=12,t="";e-- >0;)t+=Gn[62*Math.random()|0];return t}function Yn(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Kn(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n],";")}),"")}function qn(e){return e.size!==Un.size||e.x!==Un.x||e.y!==Un.y||e.rotate!==Un.rotate||e.flipX||e.flipY}function Xn(e){var t=e.transform,n=e.containerWidth,i=e.iconWidth,a={transform:"translate(".concat(n/2," 256)")},r="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:a,inner:{transform:"".concat(r," ").concat(o," ").concat(s)},path:{transform:"translate(".concat(i/2*-1," -256)")}}}var Qn={x:0,y:0,width:"100%",height:"100%"};function Jn(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var Zn=(yn.measurePerformance&&ln&&ln.mark&&ln.measure,function(e,t,n,i){var a,r,o,s=Object.keys(e),l=s.length,c=void 0!==i?function(e,t){return function(n,i,a,r){return e.call(t,n,i,a,r)}}(t,i):t;for(void 0===n?(a=1,o=e[s[0]]):(a=0,o=n);a<l;a++)o=c(o,e[r=s[a]],r,e);return o});function ei(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==n&&n,a=Object.keys(t).reduce((function(e,n){var i=t[n];return i.icon?e[i.iconName]=i.icon:e[n]=i,e}),{});"function"!=typeof wn.hooks.addPack||i?wn.styles[e]=Qt({},wn.styles[e]||{},a):wn.hooks.addPack(e,a),"fas"===e&&ei("fa",t)}var ti=wn.styles,ni=wn.shims,ii=function(){var e=function(e){return Zn(ti,(function(t,n,i){return t[i]=Zn(n,e,{}),t}),{})};e((function(e,t,n){return t[3]&&(e[t[3]]=n),e})),e((function(e,t,n){var i=t[2];return e[n]=n,i.forEach((function(t){e[t]=n})),e}));var t="far"in ti;Zn(ni,(function(e,n){var i=n[0],a=n[1],r=n[2];return"far"!==a||t||(a="fas"),e[i]={prefix:a,iconName:r},e}),{})};function ai(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}function ri(e){var t=e.tag,n=e.attributes,i=void 0===n?{}:n,a=e.children,r=void 0===a?[]:a;return"string"==typeof e?Yn(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(Yn(e[n]),'" ')}),"").trim()}(i),">").concat(r.map(ri).join(""),"</").concat(t,">")}ii(),wn.styles;function oi(e){this.name="MissingIcon",this.message=e||"Icon unavailable",this.stack=(new Error).stack}oi.prototype=Object.create(Error.prototype),oi.prototype.constructor=oi;var si={fill:"currentColor"},li={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},ci=(Qt({},si,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),Qt({},li,{attributeName:"opacity"}));function ui(e){var t=e[0],n=e[1],i=Jt(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(i)?{tag:"g",attributes:{class:"".concat(yn.familyPrefix,"-").concat(gn.GROUP)},children:[{tag:"path",attributes:{class:"".concat(yn.familyPrefix,"-").concat(gn.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(yn.familyPrefix,"-").concat(gn.PRIMARY),fill:"currentColor",d:i[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:i}}}}Qt({},si,{cx:"256",cy:"364",r:"28"}),Qt({},li,{attributeName:"r",values:"28;14;28;28;14;28;"}),Qt({},ci,{values:"1;0;1;1;0;1;"}),Qt({},si,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),Qt({},ci,{values:"1;0;0;0;0;1;"}),Qt({},si,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),Qt({},ci,{values:"0;0;1;1;0;0;"}),wn.styles,wn.styles;var di='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';var pi=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var a=n.reduce(this._pullDefinitions,{});Object.keys(a).forEach((function(t){e.definitions[t]=Qt({},e.definitions[t]||{},a[t]),ei(t,a[t]),ii()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var i=n[t],a=i.prefix,r=i.iconName,o=i.icon;e[a]||(e[a]={}),e[a][r]=o})),e}}],n&&qt(t.prototype,n),e}();function hi(){yn.autoAddCss&&!bi&&(function(e){if(e&&cn){var t=sn.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=sn.head.childNodes,i=null,a=n.length-1;a>-1;a--){var r=n[a],o=(r.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(i=r)}sn.head.insertBefore(t,i)}}(function(){var e=dn,t=pn,n=yn.familyPrefix,i=yn.replacementClass,a=di;if(n!==e||i!==t){var r=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");a=a.replace(r,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(s,".".concat(i))}return a}()),bi=!0)}function fi(e){var t=e.prefix,n=void 0===t?"fa":t,i=e.iconName;if(i)return ai(mi.definitions,n,i)||ai(wn.styles,n,i)}var gi,mi=new pi,bi=!1,yi=function(e){return function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),i=n[0],a=n.slice(1).join("-");if(i&&"h"===a)return e.flipX=!0,e;if(i&&"v"===a)return e.flipY=!0,e;if(a=parseFloat(a),isNaN(a))return e;switch(i){case"grow":e.size=e.size+a;break;case"shrink":e.size=e.size-a;break;case"left":e.x=e.x-a;break;case"right":e.x=e.x+a;break;case"up":e.y=e.y-a;break;case"down":e.y=e.y+a;break;case"rotate":e.rotate=e.rotate+a}return e}),t):t}(e)},ki=(gi=function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.transform,r=void 0===a?Un:a,o=i.symbol,s=void 0!==o&&o,l=i.mask,c=void 0===l?null:l,u=i.maskId,d=void 0===u?null:u,p=i.title,h=void 0===p?null:p,f=i.titleId,g=void 0===f?null:f,m=i.classes,b=void 0===m?[]:m,y=i.attributes,k=void 0===y?{}:y,w=i.styles,v=void 0===w?{}:w;if(e){var x=e.prefix,_=e.iconName,C=e.icon;return t=Qt({type:"icon"},e),n=function(){return hi(),yn.autoA11y&&(h?k["aria-labelledby"]="".concat(yn.replacementClass,"-title-").concat(g||Hn()):(k["aria-hidden"]="true",k.focusable="false")),function(e){var t=e.icons,n=t.main,i=t.mask,a=e.prefix,r=e.iconName,o=e.transform,s=e.symbol,l=e.title,c=e.maskId,u=e.titleId,d=e.extra,p=e.watchable,h=void 0!==p&&p,f=i.found?i:n,g=f.width,m=f.height,b="fa-w-".concat(Math.ceil(g/m*16)),y=[yn.replacementClass,r?"".concat(yn.familyPrefix,"-").concat(r):"",b].filter((function(e){return-1===d.classes.indexOf(e)})).concat(d.classes).join(" "),k={children:[],attributes:Qt({},d.attributes,{"data-prefix":a,"data-icon":r,class:y,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(m)})};h&&(k.attributes["data-fa-i2svg"]=""),l&&k.children.push({tag:"title",attributes:{id:k.attributes["aria-labelledby"]||"title-".concat(u||Hn())},children:[l]});var w=Qt({},k,{prefix:a,iconName:r,main:n,mask:i,maskId:c,transform:o,symbol:s,styles:d.styles}),v=i.found&&n.found?function(e){var t,n=e.children,i=e.attributes,a=e.main,r=e.mask,o=e.maskId,s=e.transform,l=a.width,c=a.icon,u=r.width,d=r.icon,p=Xn({transform:s,containerWidth:u,iconWidth:l}),h={tag:"rect",attributes:Qt({},Qn,{fill:"white"})},f=c.children?{children:c.children.map(Jn)}:{},g={tag:"g",attributes:Qt({},p.inner),children:[Jn(Qt({tag:c.tag,attributes:Qt({},c.attributes,p.path)},f))]},m={tag:"g",attributes:Qt({},p.outer),children:[g]},b="mask-".concat(o||Hn()),y="clip-".concat(o||Hn()),k={tag:"mask",attributes:Qt({},Qn,{id:b,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,m]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(t=d,"g"===t.tag?t.children:[t])},k]};return n.push(w,{tag:"rect",attributes:Qt({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(b,")")},Qn)}),{children:n,attributes:i}}(w):function(e){var t=e.children,n=e.attributes,i=e.main,a=e.transform,r=Kn(e.styles);if(r.length>0&&(n.style=r),qn(a)){var o=Xn({transform:a,containerWidth:i.width,iconWidth:i.width});t.push({tag:"g",attributes:Qt({},o.outer),children:[{tag:"g",attributes:Qt({},o.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:Qt({},i.icon.attributes,o.path)}]}]})}else t.push(i.icon);return{children:t,attributes:n}}(w),x=v.children,_=v.attributes;return w.children=x,w.attributes=_,s?function(e){var t=e.prefix,n=e.iconName,i=e.children,a=e.attributes,r=e.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Qt({},a,{id:!0===r?"".concat(t,"-").concat(yn.familyPrefix,"-").concat(n):r}),children:i}]}]}(w):function(e){var t=e.children,n=e.main,i=e.mask,a=e.attributes,r=e.styles,o=e.transform;if(qn(o)&&n.found&&!i.found){var s={x:n.width/n.height/2,y:.5};a.style=Kn(Qt({},r,{"transform-origin":"".concat(s.x+o.x/16,"em ").concat(s.y+o.y/16,"em")}))}return[{tag:"svg",attributes:a,children:t}]}(w)}({icons:{main:ui(C),mask:c?ui(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:x,iconName:_,transform:Qt({},Un,r),symbol:s,title:h,maskId:d,titleId:g,extra:{attributes:k,styles:v,classes:b}})},Object.defineProperty(t,"abstract",{get:n}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map((function(e){return ri(e)}))}}),Object.defineProperty(t,"node",{get:function(){if(cn){var e=sn.createElement("div");return e.innerHTML=t.html,e.children}}}),t}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(e||{}).icon?e:fi(e||{}),i=t.mask;return i&&(i=(i||{}).icon?i:fi(i||{})),gi(n,Qt({},t,{mask:i}))}),wi=n(5697),vi=n.n(wi),xi=n(9196),_i=n.n(xi);function Ci(e){return Ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ci(e)}function ji(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Si(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ii(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Si(Object(n),!0).forEach((function(t){ji(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Si(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pi(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Oi(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ei(e){return t=e,(t-=0)==t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var Mi=!1;try{Mi=!0}catch(e){}function Ai(e){return null===e?null:"object"===Ci(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"==typeof e?{prefix:"fas",iconName:e}:void 0}function Ti(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?ji({},e,t):{}}function Ni(e){var t=e.forwardedRef,n=Pi(e,["forwardedRef"]),i=n.icon,a=n.mask,r=n.symbol,o=n.className,s=n.title,l=Ai(i),c=Ti("classes",[].concat(Oi(function(e){var t,n=e.spin,i=e.pulse,a=e.fixedWidth,r=e.inverse,o=e.border,s=e.listItem,l=e.flip,c=e.size,u=e.rotation,d=e.pull,p=(ji(t={"fa-spin":n,"fa-pulse":i,"fa-fw":a,"fa-inverse":r,"fa-border":o,"fa-li":s,"fa-flip-horizontal":"horizontal"===l||"both"===l,"fa-flip-vertical":"vertical"===l||"both"===l},"fa-".concat(c),null!=c),ji(t,"fa-rotate-".concat(u),null!=u&&0!==u),ji(t,"fa-pull-".concat(d),null!=d),ji(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(p).map((function(e){return p[e]?e:null})).filter((function(e){return e}))}(n)),Oi(o.split(" ")))),u=Ti("transform","string"==typeof n.transform?yi(n.transform):n.transform),d=Ti("mask",Ai(a)),p=ki(l,Ii({},c,{},u,{},d,{symbol:r,title:s}));if(!p)return function(){var e;!Mi&&console&&"function"==typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",l),null;var h=p.abstract,f={ref:t};return Object.keys(n).forEach((function(e){Ni.defaultProps.hasOwnProperty(e)||(f[e]=n[e])})),Li(h[0],f)}Ni.displayName="FontAwesomeIcon",Ni.propTypes={border:vi().bool,className:vi().string,mask:vi().oneOfType([vi().object,vi().array,vi().string]),fixedWidth:vi().bool,inverse:vi().bool,flip:vi().oneOf(["horizontal","vertical","both"]),icon:vi().oneOfType([vi().object,vi().array,vi().string]),listItem:vi().bool,pull:vi().oneOf(["right","left"]),pulse:vi().bool,rotation:vi().oneOf([0,90,180,270]),size:vi().oneOf(["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:vi().bool,symbol:vi().oneOfType([vi().bool,vi().string]),title:vi().string,transform:vi().oneOfType([vi().string,vi().object]),swapOpacity:vi().bool},Ni.defaultProps={border:!1,className:"",mask:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,symbol:!1,title:"",transform:null,swapOpacity:!1};var Li=function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof n)return n;var a=(n.children||[]).map((function(n){return e(t,n)})),r=Object.keys(n.attributes||{}).reduce((function(e,t){var i=n.attributes[t];switch(t){case"class":e.attrs.className=i,delete n.attributes.class;break;case"style":e.attrs.style=i.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,i=t.indexOf(":"),a=Ei(t.slice(0,i)),r=t.slice(i+1).trim();return a.startsWith("webkit")?e[(n=a,n.charAt(0).toUpperCase()+n.slice(1))]=r:e[a]=r,e}),{});break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=i:e.attrs[Ei(t)]=i}return e}),{attrs:{}}),o=i.style,s=void 0===o?{}:o,l=Pi(i,["style"]);return r.attrs.style=Ii({},r.attrs.style,{},s),t.apply(void 0,[n.tag,Ii({},r.attrs,{},l)].concat(Oi(a)))}.bind(null,_i().createElement);const zi=window.wp.mediaUtils,Ri=(e,t,n,i="")=>({value:(0,o.get)(e,t,i),onChange:e=>{const i=(0,o.set)({},t,e);n(i)}}),Fi=window.wp.compose,Di=(0,g.forwardRef)((function({icon:e,size:t=24,...n},i){return(0,g.cloneElement)(e,{width:t,height:t,...n,ref:i})}));var Bi=n(3967),Wi=n.n(Bi);const Vi=()=>{const{activeStep:e,goToStep:t,steps:n}=(0,$t.useWizard)(),i=(0,g.useMemo)((()=>n.map(((e,t)=>e.skipNavigation?null:{step:e,index:t})).filter(Boolean)),[n]);return(0,m.jsx)("div",{className:"kubio-ai-wizard-sidebar-steps",children:i.map((({step:n,index:i},a)=>(0,m.jsxs)("div",{className:Wi()("kubio-ai-wizard-sidebar-step",{"kubio-ai-wizard-sidebar-step--passed":e>i,"kubio-ai-wizard-sidebar-step--current":e===i}),tabIndex:0,role:"button",onClick:()=>i<e?t(n.name):o.noop,children:[(0,m.jsx)("div",{className:"kubio-ai-wizard-sidebar-step-number-container",children:(0,m.jsx)("div",{className:"kubio-ai-wizard-sidebar-step-number",children:a+1})}),(0,m.jsxs)("div",{className:"kubio-ai-wizard-sidebar-step-text",children:[n.label&&(0,m.jsx)("h4",{children:n.label}),n.description&&(0,m.jsx)("p",{children:n.description})]})]},n.name)))})},$i=(0,Fi.createHigherOrderComponent)((n=>i=>{const a=(0,g.useRef)(o.stubTrue),[r,s]=(0,g.useState)(!1),l=(0,g.useRef)(),u=(0,f.useSelect)((e=>{var t;const{getClientIdsWithDescendants:n,getBlock:i,getBlocks:a}=e("core/block-editor"),{currentPageHasFSETemplate:r=o.stubFalse}=e(c.STORE_KEY)||{};let s=null;var l;return r()&&(s=n().find((e=>{var t;return"core/post-content"===(null===(t=i(e))||void 0===t?void 0:t.name)})),s)?0===(null===(l=a(s))||void 0===l?void 0:l.length):0===(null===(t=a(s))||void 0===t?void 0:t.length)}),[]),d=(0,g.useCallback)((e=>{a.current=e}),[]),{previousStep:p,nextStep:h,isLastStep:y,steps:k,activeStepName:w,finishLabel:v}=(0,$t.useWizard)(),[x,_]=(0,g.useState)(!1),[C,j]=(0,g.useState)({}),{isSetup:S,onFinish:I,isNewPageWizard:P,data:O,updateData:E,isRegenerate:M}=i,[A,T]=(0,g.useState)(!1),N=(0,g.useRef)();(0,g.useEffect)((()=>()=>clearTimeout(N.current)),[]);const L=(0,g.useCallback)(((...e)=>(T(U().generate()),clearTimeout(N.current),N.current=setTimeout((()=>{T(U().generate())}),500),E(...e))),[E]);(0,g.useEffect)((()=>{if(A){const e=a.current(),t=0===Object.values(e).filter(Boolean).length;_(!t),j(e)}}),[_,O,A]);const z=(0,g.useCallback)((()=>{const e=a.current();return!0!=(0===Object.values(e).filter(Boolean).length)?(j(e),void _(!0)):y?S||u||P||!M?I():s(!0):void h()}),[y,h,S,u,P,M,I]),R=(0,g.useMemo)((()=>{const e=k.filter((e=>!e.skipNavigation));return 0===(0,o.findIndex)(e,(e=>e.name===w))}),[w,k]),[F]=b();(0,e.usePopupInsideModal)(r);const D=(0,g.useMemo)((()=>y?v||(S?(0,t.__)("Save changes","kubio"):(0,t.__)("Generate","kubio")):(0,t.__)("Next","kubio")),[v,y,S]),B=(0,g.useMemo)((()=>y&&!F||x),[y,F,x]),W=(0,g.useMemo)((()=>y&&!F?(0,t.__)("Please connect to Kubio AI first.","kubio"):(0,o.first)(Object.values(C).filter((e=>!(0,o.isEmpty)(e))))),[C,F,y]);return(0,m.jsxs)("div",{className:"kubio-ai-wizard-step-wrapper",children:[(0,m.jsx)("div",{className:"kubio-ai-wizard-sidebar",children:(0,m.jsx)(Vi,{})}),(0,m.jsxs)("div",{className:"kubio-ai-wizard-content",children:[(0,m.jsx)("div",{className:"kubio-ai-wizard-step",children:(0,m.jsx)(n,{...i,nextStepIsDisabled:x,setNextStepIsDisabled:_,errors:C,setErrors:j,setValidator:d,updateData:L,rawUpdateData:E})}),(0,m.jsxs)("div",{className:"kubio-ai-wizard-footer",children:[(0,m.jsx)("div",{className:"kubio-ai-wizard-footer__left-side"}),(0,m.jsxs)("div",{className:"kubio-ai-wizard-footer__right-side",children:[r&&(0,m.jsxs)(Gt.Popover,{anchor:l.current,placement:"top",offset:10,focusOnMount:!1,className:"kubio-ai-wizard-confirmation",shift:!0,flip:!0,children:[(0,m.jsxs)(Gt.Flex,{className:"kubio-ai-wizard-confirmation__message",align:"flex-start",children:[(0,m.jsx)(Di,{icon:Ut.InfoIcon,size:16}),(0,m.jsx)("p",{children:(0,t.__)("Looks like the current page already has content. This action will replace the current page content.","kubio")})]}),(0,m.jsxs)(Gt.Flex,{justify:"flex-end",children:[(0,m.jsx)(Gt.Button,{className:"kubio-ai-button-tertiary has-text",onClick:()=>s(!1),children:(0,t.__)("Back","kubio")}),(0,m.jsx)(Gt.Button,{onClick:I,className:"kubio-ai-button has-text",children:(0,t.__)("Continue","kubio")})]})]}),(0,m.jsx)(Gt.Button,{className:"kubio-ai-button-tertiary has-text",onClick:p,disabled:R,children:(0,t.__)("Back","kubio")}),(0,m.jsx)(Gt.Tooltip,{className:"kubio-ai-wizard-error-tooltip-wrapper",placement:"top",delay:0,text:W?(0,m.jsx)("span",{className:"kubio-ai-wizard-error-tooltip",children:W}):null,hideOnClick:!1,children:(0,m.jsx)("div",{children:(0,m.jsx)(Gt.Button,{ref:l,onClick:z,disabled:B,className:Wi()("has-text",{"kubio-ai-button":y,"kubio-ai-button-secondary":!y}),children:D})})})]})]})]})]})}),"withStepWrapper"),Ui=(0,m.jsx)(Ht.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,m.jsx)(Ht.Path,{d:"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z"})}),Gi=[{value:"multi-page",label:(0,t.__)("Multi page","kubio")},{value:"one-page",label:(0,t.__)("Single page","kubio")}],Hi=({field:e,label:t,errors:n,children:i})=>(0,m.jsxs)("span",{className:Wi()("kubio-ai-wizard-control-label",{"has-errors":n&&!!n[e]}),children:[t,!!n&&!!n[e]&&(0,m.jsx)("span",{className:"error-message",children:n[e]}),(0,m.jsx)("div",{className:"kubio-ai-wizard-control-label__extra-info",children:i})]}),Yi=["",(0,t.__)("Too short","kubio"),(0,t.__)("Almost there","kubio"),(0,t.__)("Great description","kubio")],Ki=({wordsCount:e})=>{const t=(0,g.useMemo)((()=>{let t=0;return e>0&&(t=e<=20?1:e<=30?2:3),t}),[e]);return(0,m.jsxs)("div",{className:`kubio-short-description-meter kubio-short-description-meter__level-${t}`,children:[(0,m.jsx)("span",{children:Yi[t]}),(0,m.jsxs)("ul",{className:"kubio-short-description-meter__lines",children:[(0,m.jsx)("li",{}),(0,m.jsx)("li",{}),(0,m.jsx)("li",{})]})]})},qi=$i((({data:n,updateData:i,isFrontPage:r=!1,isRegenerate:s=!1,setValidator:l,errors:c,isSetup:d=!1})=>{const{title:h}=(0,p.useSiteLogoImages)(),f=(0,g.useMemo)((()=>(0,o.map)(a(),(({label:e,description:t,value:n})=>({value:n,label:e,description:t})))),[]),b=(0,g.useCallback)(((e,t="")=>Ri(n,e,i,t)),[n,i]),y=b("short_desc"),k=b("business_type","Business"),w=b("business_name",h),[v,x]=(0,g.useState)((0,o.words)(y.value).length),_=(0,u.useDebounce)(x,150);(0,g.useEffect)((()=>{_((0,o.words)(y.value).length)}),[_,y]);const C=(0,g.useRef)();return C.current=v,(0,g.useEffect)((()=>{l((()=>{const e={business_name:null,business_type:null,short_desc:null};return w.value||(e.business_name=(0,t.__)("Website name cannot be empty!","kubio")),k.value||(e.business_type=(0,t.__)("Website type cannot be empty!","kubio")),y.value?C.current>100&&(e.short_desc=(0,t.__)("Website description exceeds 100 words. Please edit & keep it under the limit to proceed.","kubio")):e.short_desc=(0,t.__)("Website description cannot be empty!","kubio"),e}))}),[w.value,k.value,l,y.value,v]),(0,m.jsxs)("div",{className:"kubio-ai-wizard__general-info",children:[(0,m.jsx)("div",{className:"kubio-ai-wizard-form-fields",children:(0,m.jsxs)("div",{className:"kubio-ai-wizard__columns-layout",children:[(0,m.jsx)($t.InputControl,{label:(0,m.jsx)(Hi,{label:(0,t.__)("Website name","kubio"),field:"business_name",errors:c}),className:Wi()("kubio-ai-wizard__general-info__business-name",(null==c?void 0:c.business_name)&&"has-errors"),...w}),(0,m.jsx)($t.SuggestionsInput,{label:(0,m.jsx)(Hi,{label:(0,t.__)("Website type","kubio"),field:"business_type",errors:c}),className:Wi()("kubio-ai-wizard__general-info__business-type",(null==c?void 0:c.business_type)&&"has-errors"),options:f,optionRender:e=>(0,m.jsx)("div",{className:"kubio-ai-language-style-select-item",children:(0,m.jsx)("span",{children:e.label})}),popoverClassName:"kubio-ai-business-suggestion-popover",filterKeys:["label","description"],suggestionsToShow:10,onSuggestionClick:(e,t)=>t(e.label),...k}),r&&!s&&!d&&(0,m.jsx)($t.GutentagSelectControl,{label:(0,t.__)("Website structure","kubio"),inlineLabel:!1,options:Gi,popoverClassName:"kubio-ai-wizard__select-control-dropdown",...b("structure_type","multi-page")})]})}),(0,m.jsx)("div",{className:"kubio-ai-wizard-form-fields no-gap",children:(0,m.jsxs)("div",{className:"kubio-ai-wizard-business-desc",children:[(0,m.jsx)($t.TextareaControl,{label:(0,m.jsx)(Hi,{label:(0,t.__)("Short description of the website","kubio"),field:"short_desc",children:(0,m.jsx)(Ki,{wordsCount:v})}),className:Wi()("kubio-ai-wizard-business-desc-field",(null==c?void 0:c.short_desc)&&"has-errors"),rows:10,...y}),(0,m.jsxs)("div",{className:"wizard-field-info",children:[(0,m.jsx)("span",{className:"error-message",children:null==c?void 0:c.short_desc}),(0,m.jsxs)("span",{className:Wi()({"error-message":v>100}),children:[v,"/100"]})]}),(0,m.jsxs)("div",{className:"kubio-ai-wizard-business-desc__recommendations",children:[(0,m.jsxs)("div",{className:"kubio-ai-wizard-business-desc__recommendations__title",children:[(0,m.jsx)("img",{src:(0,e.staticAssetURL)("ai-assets/recommendations-icon.svg"),alt:""}),(0,m.jsx)("span",{children:(0,t.__)("Recommendations","kubio")})]}),(0,m.jsxs)("div",{className:"kubio-ai-wizard-business-desc__recommendations__body",children:[(0,m.jsx)("span",{children:(0,t.__)("A few important things to mention in your description:","kubio")}),(0,m.jsxs)("ul",{children:[(0,m.jsx)("li",{children:(0,t.__)("your main activity","kubio")}),(0,m.jsx)("li",{children:(0,t.__)("main products or services","kubio")}),(0,m.jsx)("li",{children:(0,t.__)("the purpose of the website","kubio")})]})]})]})]})})]})})),Xi=["en_US","es_ES","de_DE","fr_FR","en_GB","ja_JP"],Qi=[{type:"facebook",url:""},{type:"instagram",url:""},{type:"youtube",url:""}],Ji=[{name:"facebook",label:(0,t.__)("Facebook","kubio"),icon:(0,m.jsx)(Ni,{icon:{prefix:"fab",iconName:"facebook",icon:[512,512,[62e3],"f09a","M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"]}}),placeholder:"https://www.facebook.com/..."},{name:"twitter",label:(0,t.__)("Twitter","kubio"),icon:(0,m.jsx)(Ni,{icon:{prefix:"fab",iconName:"x-twitter",icon:[512,512,[],"e61b","M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"]}}),placeholder:"https://www.twitter.com/..."},{name:"instagram",label:(0,t.__)("Instagram","kubio"),icon:(0,m.jsx)(Ni,{icon:{prefix:"fab",iconName:"instagram",icon:[448,512,[],"f16d","M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"]}}),placeholder:"https://www.instagram.com/..."},{name:"youtube",label:(0,t.__)("YouTube","kubio"),icon:(0,m.jsx)(Ni,{icon:{prefix:"fab",iconName:"youtube",icon:[576,512,[61802],"f167","M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"]}}),placeholder:"https://www.youtube.com/..."},{name:"whatsapp",label:(0,t.__)("Whatsapp","kubio"),icon:(0,m.jsx)(Ni,{icon:{prefix:"fab",iconName:"whatsapp",icon:[448,512,[],"f232","M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"]}}),placeholder:"https://wa.me/+1xxxxxxxxxxx"},{name:"tiktok",label:(0,t.__)("Tiktok","kubio"),icon:(0,m.jsx)(Ni,{icon:{prefix:"fab",iconName:"tiktok",icon:[448,512,[],"e07b","M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"]}}),placeholder:"https://www.tiktok.com/..."},{name:"pinterest",label:(0,t.__)("Pinterest","kubio"),icon:(0,m.jsx)(Ni,{icon:{prefix:"fab",iconName:"pinterest",icon:[496,512,[],"f0d2","M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z"]}}),placeholder:"https://www.pinterest.com/..."},{name:"linkedin",label:(0,t.__)("Linkedin","kubio"),icon:(0,m.jsx)(Ni,{icon:{prefix:"fab",iconName:"linkedin",icon:[448,512,[],"f08c","M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"]}}),placeholder:"https://www.linkedin.com/..."}],Zi=$i((({data:e,updateData:n,rawUpdateData:i,setValidator:a,errors:r,isFrontPage:l=!1,startWithAIFrontPage:c=!1,isRegenerate:u=!1})=>{const d=(0,g.useCallback)(((t,i="")=>Ri(e,t,n,i)),[e,n]),p=(d("contact.email"),d("website_logo")),{cloudTags:h}=(0,f.useSelect)((e=>{const{getSettings:t=s().noop}=e("kubio/edit-site")||{},n=t()||{};return{cloudTags:(null==n?void 0:n.kubioBlockTags)||[]}}),[]),b=(0,g.useMemo)((()=>h.map((e=>({label:e.label,value:e.slug})))),[h]),y=(0,g.useCallback)(((t,n="")=>Ri(e,t,i,n)),[e,i])("sections_tag"),k=(0,g.useRef)();(0,g.useEffect)((()=>{if(0===b.length||k.current)return;if(y.value)return;const e=["shadow","flat"],t=b.filter((({value:t})=>e.includes(t))),n=t[Math.floor(Math.random()*t.length)].value;k.current=n,y.onChange(n)}),[b,y.value,y,l,u,c]);const w=(0,g.useMemo)((()=>{const e=(0,o.map)(_(),((e,t)=>({label:e,value:t})));return[{items:e.filter((e=>Xi.includes(e.value))).sort(((e,t)=>Xi.indexOf(e.value)-Xi.indexOf(t.value)))},{items:e.filter((e=>!Xi.includes(e.value)))}]}),[]),v=(0,g.useMemo)((()=>(0,o.map)(C(),(({label:e,description:t},n)=>({label:e,description:t,value:n})))),[]),x=d("language","");return(0,g.useEffect)((()=>{a((()=>{const e={language:null};return x.value||(e.language=(0,t.__)("Website language is required","kubio")),e}))}),[x.value,a]),(0,m.jsxs)("div",{className:"kubio-ai-wizard__columns-layout",children:[(0,m.jsxs)("div",{className:"kubio-ai-wizard-form-fields",children:[(0,m.jsx)($t.InputControl,{label:(0,m.jsxs)("span",{children:[(0,t.__)("Email address","kubio"),(0,m.jsxs)("span",{className:"components-base-control__label__appendix",children:["(",(0,t.__)("Optional","kubio"),")"]})]}),className:Wi()((null==r?void 0:r.email)&&"has-errors"),...d("contact.email")}),(0,m.jsx)($t.InputControl,{label:(0,m.jsxs)(m.Fragment,{children:[(0,t.__)("Phone number","kubio"),(0,m.jsx)("span",{className:"components-base-control__label__appendix",children:(0,t.__)("(Optional)","kubio")})]}),...d("contact.phone")}),(0,m.jsx)($t.InputControl,{label:(0,m.jsxs)(m.Fragment,{children:[(0,t.__)("Address","kubio"),(0,m.jsxs)("span",{className:"components-base-control__label__appendix",children:["(",(0,t.__)("Optional","kubio"),")"]})]}),...d("contact.address")}),(0,m.jsx)(aa,{...d("contact.socials",Qi)})]}),(0,m.jsxs)("div",{className:"kubio-ai-wizard-form-fields",children:[(0,m.jsx)($t.GutentagSelectControl,{label:(0,m.jsx)(Hi,{label:(0,t.__)("Website language","kubio"),field:"language",errors:r}),inlineLabel:!1,options:w,placeholder:(0,t.__)("Select language","kubio"),popoverClassName:"kubio-ai-wizard__select-control-dropdown",...x}),(0,m.jsx)($t.GutentagSelectControl,{label:(0,t.__)("Language style","kubio"),inlineLabel:!1,options:v,itemRenderer:e=>(0,m.jsxs)("div",{className:"kubio-ai-language-style-select-item",children:[(0,m.jsx)("span",{children:e.label}),(0,m.jsx)("span",{children:e.description})]}),popoverClassName:"kubio-ai-wizard__select-control-dropdown",...d("language_style","natural")}),void 0,(0,m.jsx)(ea,{websiteLogo:p})]})]})})),ea=({websiteLogo:n})=>{const[i,a]=(0,g.useState)(null),[r,o]=(0,g.useState)(!1),[s,l]=(0,g.useState)(null),c=(0,g.useCallback)((()=>{let t=(0,e.defaultAssetURL)("/logo-fallback.png");return i?t=i.url:n.value&&(t=n.value.url),t}),[i,n.value]),u=(0,g.useCallback)((()=>{let e=(0,t.__)("No file selected","kubio");return i?e=i.url:n.value&&(e=n.value.url),e.split("/").pop()}),[i,n.value]),d=(e,t)=>{null!=d&&d.calledOnce?(a(e[0]),n.onChange({id:e[0].id,url:e[0].url}),t.value="",o(!1)):d.calledOnce=!0};return(0,m.jsxs)(Gt.Flex,{className:"kubio-ai-wizard__website-logo",direction:"column",gap:1.5,children:[(0,m.jsxs)("span",{className:"components-base-control__label",children:[(0,t.__)("Website logo","kubio"),(0,m.jsxs)("span",{className:"components-base-control__label__appendix",children:["(",(0,t.__)("Optional","kubio"),")"]})]}),(0,m.jsxs)(Gt.Flex,{className:"kubio-ai-wizard__columns-layout",gap:5,children:[(0,m.jsx)(Gt.FlexItem,{className:"kubio-ai-wizard__website-logo__image-wrapper",onClick:e=>{const t=e.target.closest(".kubio-ai-wizard__website-logo").querySelector(".components-form-file-upload button");t&&t.click()},children:(0,m.jsx)("img",{src:c(),alt:"logo"})}),(0,m.jsxs)(Gt.Flex,{direction:"column",justify:"space-between",children:[(0,m.jsx)("span",{children:(0,t.__)("Upload an image file with your company's logo","kubio")}),(0,m.jsxs)(Gt.Flex,{justify:"flex-start",children:[(0,m.jsx)(Gt.FormFileUpload,{accept:"image/*",onChange:async e=>{o(!0),await(0,zi.uploadMedia)({allowedTypes:["image"],filesList:e.currentTarget.files,onFileChange:t=>d(t,e.target),onError:e=>{"MIME_TYPE_NOT_SUPPORTED"===e.code?l("Sorry, this file type is not supported."):l("Something went wrong. Please, try again."),l(e.message),o(!1)}})},disabled:r,children:(0,t.__)("Upload a file","kubio")}),r&&(0,m.jsx)(Gt.Spinner,{}),!r&&s&&(0,m.jsx)("span",{children:s})]}),(0,m.jsxs)(Gt.Flex,{className:"kubio-ai-wizard__website-logo__filename-wrapper",justify:"space-between",children:[(0,m.jsx)("span",{children:u()}),(i||n.value)&&(0,m.jsx)(Gt.Icon,{size:17,icon:"no",onClick:()=>{a(null),n.onChange(null)}})]})]})]})]})},ta=s().keyBy(Ji,"name"),na=e=>ta[e].icon,ia=({type:e,url:n,onRemove:i,onChange:a})=>{const r=(0,g.useRef)(),[o,s]=(0,g.useState)(!1),[l,c]=(0,g.useState)(n),u=(0,g.useCallback)(((t,n)=>{null==t||t.preventDefault(),null==t||t.stopPropagation(),a({type:e,url:n||l}),s(!1)}),[l,a,e]),d=(0,g.useMemo)((()=>ta[e].placeholder||(0,t.__)("No URL set","kubio")),[e]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{ref:r,className:Wi()("kubio-ai-contact-step__social-icon",{"kubio-ai-contact-step__social-icon--is-selected":o}),children:[(0,m.jsx)(Gt.Icon,{size:22,icon:na(e),onClick:()=>s(!0)}),(0,m.jsx)(Gt.Icon,{size:12,icon:Ut.RoundedDeleteIcon,onClick:()=>i(e)})]}),o&&(0,m.jsx)(Gt.Popover,{anchor:r.current,onFocusOutside:()=>s(!1),variant:"unstyled",offset:4,children:(0,m.jsx)("form",{className:"kubio-ai-wizard__edit-social-icon",onSubmit:u,children:(0,m.jsxs)(Gt.Flex,{gap:0,children:[(0,m.jsx)(Gt.FlexBlock,{children:(0,m.jsx)($t.InputControl,{value:l,onInput:e=>{c(e.target.value)},placeholder:d})}),(0,m.jsx)(Gt.FlexItem,{className:"kubio-ai-wizard__edit-social-icon__button-wrapper",children:(0,m.jsx)(Gt.Button,{type:"submit",children:(0,t.__)("Apply","kubio")})})]})})})]})},aa=({value:e,onChange:n})=>{const i=(0,g.useCallback)((t=>{n([...e,{type:t,url:""}])}),[n,e]),a=(0,g.useCallback)((t=>{n(e.filter((e=>e.type!==t)))}),[n,e]),r=(0,g.useCallback)((t=>{n(e.map((e=>(e.type===t.type&&(e={...e,...t}),e))))}),[n,e]);(0,g.useEffect)((()=>{var e,t,n;const i="kubio-ai-wizard--contact-step";return null===(e=document)||void 0===e||null===(t=e.body)||void 0===t||null===(n=t.classList)||void 0===n||n.toggle(i,!0),()=>{var e,t,n;null===(e=document)||void 0===e||null===(t=e.body)||void 0===t||null===(n=t.classList)||void 0===n||n.toggle(i,!1)}}),[]);const o=(0,g.useMemo)((()=>{const t=e.map((e=>e.type));return Ji.filter((e=>!t.includes(e.name)))}),[e]);return(0,m.jsx)("div",{className:"kubio-ai-wizard__social-media",children:(0,m.jsxs)(Gt.BaseControl,{id:"social-media-control",children:[(0,m.jsxs)(Gt.BaseControl.VisualLabel,{children:[(0,t.__)("Social media","kubio"),(0,m.jsxs)("span",{className:"components-base-control__label__appendix",children:["(",(0,t.__)("Optional","kubio"),")"]})]}),(0,m.jsxs)("div",{className:Wi()("kubio-ai-contact-step-socials-wrapper"),children:[e.map((({type:e,url:t})=>(0,m.jsx)(ia,{type:e,onRemove:a,onChange:r,url:t},e))),(0,m.jsx)(Gt.DropdownMenu,{popoverProps:{className:"kubio-ai-wizard__social-media__dropdown",placement:"top",offset:10},label:(0,t.__)("Add social platform","kubio"),icon:Ui,toggleProps:{iconSize:20},controls:o.map((({label:e,name:t,icon:n})=>({title:e,icon:n,onClick:()=>i(t)})))})]})]})})};var ra=n(7418),oa=n.n(ra),sa=function(){return sa=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},sa.apply(this,arguments)};const la=function(e){for(var t=e.url,n=e.allowFullScreen,i=e.position,a=e.display,r=e.height,o=e.width,s=e.overflow,l=e.styles,c=e.onLoad,u=e.onMouseOver,d=e.onMouseOut,p=e.scrolling,h=e.id,f=e.frameBorder,g=e.ariaHidden,m=e.sandbox,b=e.allow,y=e.className,k=e.title,w=e.ariaLabel,v=e.ariaLabelledby,x=e.name,_=e.target,C=e.loading,j=e.importance,S=e.referrerpolicy,I=e.allowpaymentrequest,P=e.src,O=oa()({src:P||t,target:_||null,style:{position:i||null,display:a||"block",overflow:s||null},scrolling:p||null,allowpaymentrequest:I||null,importance:j||null,sandbox:m||null,loading:C||null,styles:l||null,name:x||null,className:y||null,referrerpolicy:S||null,title:k||null,allow:b||null,id:h||null,"aria-labelledby":v||null,"aria-hidden":g||null,"aria-label":w||null,width:o||null,height:r||null,onLoad:c||null,onMouseOver:u||null,onMouseOut:d||null}),E=Object.create(null),M=0,A=Object.keys(O);M<A.length;M++){var T=A[M];null!=O[T]&&(E[T]=O[T])}for(var N=0,L=Object.keys(E.style);N<L.length;N++){var z=L[N];null==E.style[z]&&delete E.style[z]}if(n)if("allow"in E){var R=E.allow.replace("fullscreen","");E.allow=("fullscreen "+R.trim()).trim()}else E.allow="fullscreen";return f>=0&&(E.style.hasOwnProperty("border")||(E.style.border=f)),_i().createElement("iframe",sa({},E))},ca=(0,t.__)("Kubio AI is ready to generate your website.","kubio"),ua=(0,t.__)("AI features require connecting to a Kubio account","kubio"),da=(0,t.__)("Create a free Kubio account and you will receive 500 free AI credits to generate your homepage.","kubio"),pa=({isSetup:n})=>(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("img",{src:(0,e.staticAssetURL)("ai-assets/final-message.png"),alt:"final-message"}),!n&&(0,m.jsx)("h2",{children:(0,t.__)('Awesome! Let\'s hit "Generate"',"kubio")}),n&&(0,m.jsx)("h2",{children:(0,t.__)('Awesome! Let\'s hit "Save changes"',"kubio")}),(0,m.jsx)("p",{children:ca})]}),ha=()=>{const[,n]=b(),{createSuccessNotice:i}=(0,u.useKubioNotices)(),a=(0,o.first)((0,e.getBackendData)("kubioCloudUrl").split("?")).replace(/\/+$/,""),[r,s]=y(),l=(0,g.useRef)(r);return l.current=r,(0,g.useEffect)((()=>{const e=a=>{const{action:r=null,value:o=null,error:c=null}=a.data||{};"ai_subscription_key"===r&&(window.removeEventListener("message",e),c&&I.Log.error("AI Connect Iframe",c),o||I.Log.error("AI Connect Iframe, no value"),(async()=>{await K({aiKey:o});const{remaining_credits:e=0,per_page_credits:a=30}=await q();s({...l.current,state:"ready",remainingCredits:e,perPageCredits:a}),n(!0),i((0,t.__)("Successfully connected to Kubio AI!","kubio"),{duration:3e3})})())};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[i,n,s]),(0,m.jsxs)(Gt.Flex,{align:"center",className:"kubio-ai-connect-row",justify:"space-around",wrap:!0,children:[(0,m.jsxs)(Gt.FlexItem,{isBlock:!0,className:"kubio-ai-connect-header",children:[(0,m.jsx)("h1",{className:"kubio-ai-connect-title",children:ua}),(0,m.jsx)("p",{className:"kubio-ai-connect-message",children:da})]}),(0,m.jsx)(Gt.FlexItem,{isBlock:!0,children:(0,m.jsx)("div",{className:"kubio-connect-iframe-container",children:(0,m.jsx)(la,{loading:"eager",importance:"high",className:"kubio-connect-iframe",url:`${a}/ui-route/connect-ai?hl=1`,title:"Kubio AI Connect",sandbox:"allow-popups allow-modals allow-same-origin allow-scripts allow-forms allow-popups-to-escape-sandbox"})})})]})},fa=$i((({isSetup:e})=>{const[t]=b();return(0,m.jsxs)("div",{className:"kubio-ai-wizard__generate-step kubio-ai-wizard__generate-step--"+(t?"connected":"disconnected"),children:[t&&(0,m.jsx)(pa,{isSetup:e}),!t&&(0,m.jsx)(ha,{})]})})),ga=[{label:(0,t.__)("General","kubio"),value:"general"},{label:(0,t.__)("About Us","kubio"),value:"about"},{label:(0,t.__)("Services","kubio"),value:"services"},{label:(0,t.__)("Features","kubio"),value:"features"},{label:(0,t.__)("Portfolio","kubio"),value:"portfolio"},{label:(0,t.__)("Team","kubio"),value:"team"},{label:(0,t.__)("Gallery","kubio"),value:"gallery"},{label:(0,t.__)("F.A.Q.","kubio"),value:"faq"},{label:(0,t.__)("Pricing","kubio"),value:"pricing"},{label:(0,t.__)("Contact","kubio"),value:"contact"}],ma=(0,t.__)("It will show the main features of our products, including our plans and user testimonials","kubio"),ba={general:"",about:(0,t.__)("This page should offer detailed information about our organization. Describe company's history, values, and mission and give visitors a clear understanding of our identity.","kubio"),services:(0,t.__)("This page focus is on showcasing our business's offerings. Present details about the specific products, solutions, or expertise our company provides to attract potential clients.","kubio"),portfolio:(0,t.__)("This page should display a showcase of our notable projects and work. Highlight completed assignments, creative ventures, or successful case studies that effectively demonstrate our competence and skills.","kubio"),team:(0,t.__)("A page that introduces visitors to our team members. Spotlight their individual roles, skills, and contributions within the organization to provide insight into our workforce.","kubio"),contact:(0,t.__)("A page that streamlines communication between our business and its audience. Incorporate contact forms, phone numbers, addresses, and social media links to provide visitors with convenient ways to get in touch.","kubio"),features:(0,t.__)("This page is dedicated to showcasing the key features and functionalities of our products or services. Highlight the unique aspects that set our offerings apart and provide value to customers.","kubio"),gallery:(0,t.__)("This page should present a visual gallery that displays images, videos, or multimedia content relevant to our business or organization.","kubio"),faq:(0,t.__)("This page should present comprehensive list of frequently asked questions and their respective answers. Address common queries that visitors might have about our products, services, policies, or any other relevant topics.","kubio"),pricing:(0,t.__)("This page should present clear and detailed pricing information for our products or services.","kubio")},ya=(e,t,n=!1)=>{if(e=e.replace(/\s+/g,""),t=t.replace(/\s+/g,""),n||(e=e.toLowerCase(),t=t.toLowerCase()),e===t)return 1;if(e.length<2||t.length<2)return 0;const i=new Map;for(let t=0;t<e.length-1;t++){const n=e.substring(t,t+2),a=i.has(n)?i.get(n)+1:1;i.set(n,a)}let a=0;for(let e=0;e<t.length-1;e++){const n=t.substring(e,e+2),r=i.has(n)?i.get(n):0;r>0&&(i.set(n,r-1),a++)}return 2*a/(e.length+t.length-2)},ka=$i((({data:e,rawUpdateData:n,setNextStepIsDisabled:i,errors:a,setErrors:r})=>{var s;const l=(0,g.useCallback)(((t,i="")=>Ri(e,t,n,i)),[e,n]),c=l("title",""),u=l("short_desc"),d=(0,g.useRef)(!0),p=(0,o.words)(u.value||"").length,h=(null==e?void 0:e.purpose)||"general",f=(0,g.useRef)();(0,g.useEffect)((()=>{if(f.current===c.value||u.value)return;f.current=c.value;const e=((e,t,n,i=.8)=>{const a=[];let r=0;for(let n=0;n<t.length;n++){const i=t[n];let l=0;s=i,o=(o=e).toLowerCase(),s=s.toLowerCase(),l=o&&o.includes(s)?1:ya(e,i),a.push({target:i,rating:l}),l>a[r].rating&&(r=n)}var o,s;const l=a[r];return l.rating>=i?l.target:n})(c.value||"",ga.map((e=>e.value)),h).toLowerCase();n({short_desc:f.current!==c.value||""===u.value?(0,o.get)(ba,e,""):u.value,purpose:e})}),[c.value,h,u.value,n]);const b=(0,g.useCallback)((e=>{n({purpose:e,short_desc:(0,o.get)(ba,e,"")})}),[n]),y=(0,g.useCallback)((e=>{c.onChange(e)}),[c]);return(0,g.useEffect)((()=>{const e={};c.value.trim()||d.current||(e.page_title=(0,t.__)("Page title cannot be empty!","kubio")),p>100&&(e.short_desc=(0,t.__)("Page description exceeds 100 words. Please edit & keep it under the limit to proceed.","kubio")),0===p&&(e.short_desc=(0,t.__)("Page description cannot be empty!","kubio")),r(e),i(!!Object.values(e).filter(Boolean).length||""===c.value),d.current&&(d.current=!1)}),[c.value,p,i,r]),(0,m.jsxs)("div",{className:"kubio-ai-wizard-form-fields",children:[(0,m.jsx)($t.InputControl,{label:(0,m.jsx)(Hi,{label:(0,t.__)("Page title","kubio"),field:"page_title",errors:a}),className:Wi()((null==a?void 0:a.page_title)&&"has-errors"),...c,onChange:y,autoComplete:"off",role:"presentation"}),(0,m.jsx)($t.GutentagSelectControl,{label:(0,t.__)("Page purpose","kubio"),placeholder:(0,t.__)("Select page purpose","kubio"),options:ga,value:h,onChange:b,popoverClassName:"kubio-ai-wizard__select-control-dropdown"}),(0,m.jsxs)("div",{children:[(0,m.jsx)($t.TextareaControl,{label:(0,t.__)("Short description of the page","kubio"),className:Wi()("kubio-ai-wizard-page-desc-field",(null==a?void 0:a.short_desc)&&"has-errors"),placeholder:ma,rows:6,...u}),(0,m.jsxs)("div",{className:"kubio-ai-wizard-textarea-desc-info",children:[(0,m.jsx)("span",{className:"error-message",children:null!==(s=null==a?void 0:a.short_desc)&&void 0!==s?s:""}),(0,m.jsx)("span",{children:(0,t.__)("Max. 100 words","kubio")})]})]})]})})),wa=[{label:(0,t.__)("Welcome","kubio"),description:(0,t.__)("Tell us a few things about your new website.","kubio"),name:"welcome",component:({onCancel:n})=>{const{nextStep:i}=(0,$t.useWizard)();return(0,m.jsx)("div",{className:"kubio-ai-welcome-step",children:(0,m.jsxs)("div",{className:"kubio-ai-welcome-step__content",children:[(0,m.jsx)("div",{className:"kubio-ai-welcome-step__close-modal",children:(0,m.jsx)(Gt.Button,{icon:Yt,onClick:n})}),(0,m.jsxs)(Gt.Flex,{children:[(0,m.jsx)(Gt.FlexBlock,{className:"kubio-ai-welcome-step__content-column",children:(0,m.jsxs)("div",{className:"kubio-ai-welcome-step__content-column__content",children:[(0,m.jsx)(Gt.Icon,{icon:Ut.KubioAI,className:"kubio-ai-logo-colored kubio-ai-logo-animated"}),(0,m.jsx)("h1",{children:(0,t.__)("Let's create your home page in just a few easy steps:","kubio")}),(0,m.jsxs)("ol",{children:[(0,m.jsx)("li",{children:(0,t.__)("Provide a short description of the website","kubio")}),(0,m.jsx)("li",{children:(0,t.__)("Provide contact and social info (optional)","kubio")}),(0,m.jsx)("li",{children:(0,t.__)("Generate your homepage","kubio")}),(0,m.jsx)("li",{children:(0,t.__)("Apply finishing touches","kubio")})]}),(0,m.jsx)(Gt.Button,{variant:"primary",onClick:i,className:"kubio-ai-button",children:(0,t.__)("Let's get started!","kubio")})]})}),(0,m.jsx)(Gt.Flex,{className:"kubio-ai-welcome-step__bg-column",children:(0,m.jsx)("img",{alt:"welcome",src:(0,e.staticAssetURL)("ai-assets/welcome.png")})})]})]})})},skipNavigation:!0},{label:(0,t.__)("General information","kubio"),description:(0,t.__)("Tell us a few things about your new website.","kubio"),name:"general-info",component:qi},{label:(0,t.__)("Identity & contact","kubio"),description:(0,t.__)("Provide any contact information related to your business.","kubio"),name:"contact-info",component:Zi},{label:(0,t.__)("Page information","kubio"),description:(0,t.__)("Tell us a few things about the page we're about to generate.","kubio"),name:"page-info",component:ka},{label:(0,t.__)("Generate with Kubio AI","kubio"),name:"final-step",description:(0,t.__)("Watch how Kubio AI does all the work for you.","kubio"),component:fa}],va=({onFinish:n,isFrontPage:i=!1,isRegenerate:a=!1,forceGenerateTitle:r=!1,isSetup:s=!1,onCancel:l,checkPageType:c=!0,startWithAIFrontPage:u=!1,isNewPageWizard:d=!1,stepsFilter:p=null,startStep:h=null,modalTitle:f=null,finishLabel:y=null})=>{const[{siteContext:k={},isFrontPage:w,pageContext:x={}},_]=v(),[C]=b(),[j]=(0,g.useState)(C),S=a?w:i,[I,P]=(0,g.useState)(k),[O,E]=(0,g.useState)({purpose:"general",...a?x:{}}),M=(0,g.useCallback)((t=>{E((n=>(0,e.mergeNoArrays)({},n,t)))}),[]),A=(0,g.useCallback)((t=>{P((n=>(0,e.mergeNoArrays)({},n,t)))}),[]),T=(0,g.useCallback)((()=>{const e={siteContext:I,pageContext:O,pageTitle:O.title,isFrontPage:S,isRegenerate:a};_(e),Q(I),n(e)}),[I,O,S,a,_,n]),N=(0,g.useMemo)((()=>p?p(wa):wa.map((e=>{const{name:t}=e;switch(t){case"page-info":if(S||s)return null;break;case"final-step":if(j)return null}return e})).filter(Boolean)),[p,S,s,j]),L=(0,g.useCallback)((e=>{const{component:t,name:n}=e;let i=I,r=A;return"page-info"===n&&(i=O,r=M),(0,m.jsx)(t,{data:i,updateData:r,onFinish:T,onCancel:l,isSetup:s,isRegenerate:a,isFrontPage:S,checkPageType:c,isNewPageWizard:d,startWithAIFrontPage:u},n)}),[c,S,d,a,s,l,T,O,I,u,M,A]),z=(0,g.useMemo)((()=>{if(h)return h;const e=s||a||d;return(0,o.isEmpty)(I.short_desc)&&S&&!e?"welcome":s||S||(0,o.isEmpty)(I.short_desc)?"general-info":"page-info"}),[S,d,a,s,I.short_desc,h]),R=(0,g.useMemo)((()=>a?(0,t.__)("Close AI wizard ","kubio"):(0,t.__)("Skip AI wizard ","kubio")),[a]),F=(0,g.useMemo)((()=>{if(f)return f;if(s)return(0,t.__)("Configure Kubio AI","kubio");// translators: %s is the type of page e.g. front page, inner page
let e=(0,t.__)("Generate %s","kubio");const n=S?(0,t.__)("front page","kubio"):(0,t.__)("page","kubio");return a&&!r&&(// translators: %s is the type of page e.g. front page, inner page
e=(0,t.__)("Regenerate %s","kubio")),(0,t.sprintf)(e,n)}),[f,r,S,a,s]);return(0,m.jsx)(Gt.Modal,{className:"kubio-ai-wizard-modal",overlayClassName:"kubio-ai-welcome-step__close-modal",title:(0,m.jsxs)(Gt.Flex,{children:[(0,m.jsxs)(Gt.FlexBlock,{className:"kubio-ai-wizard-modal__title",children:[(0,m.jsx)(Gt.Icon,{icon:Ut.KubioAI,className:"kubio-ai-logo-colored kubio-ai-logo-animated"}),F]}),(0,m.jsx)(Gt.FlexItem,{children:(0,m.jsx)(Gt.Button,{onClick:l,icon:Yt,label:(0,t.__)("Close","kubio")})})]}),isDismissible:!1,children:(0,m.jsx)($t.Wizard,{onFinish:T,startStep:z,showDots:!1,initialBackButton:{label:R,onClick:l},finishLabel:y,steps:N,stepRender:L,Footer:null})})};va.withStepWrapper=$i})(),(window.kubio=window.kubio||{}).ai=i})();
